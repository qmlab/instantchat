var RTCPeerConnection=null,getUserMedia=null,attachMediaStream=null,reattachMediaStream=null,webrtcDetectedBrowser=null;function trace(c){"\n"==c[c.length-1]&&(c=c.substring(0,c.length-1));console.log((performance.now()/1E3).toFixed(3)+": "+c)}
navigator.mozGetUserMedia?(console.log("This appears to be Firefox"),webrtcDetectedBrowser="firefox",RTCPeerConnection=mozRTCPeerConnection,RTCSessionDescription=mozRTCSessionDescription,RTCIceCandidate=mozRTCIceCandidate,getUserMedia=navigator.mozGetUserMedia.bind(navigator),attachMediaStream=function(c,e){console.log("Attaching media stream");c.mozSrcObject=e;c.play()},reattachMediaStream=function(c,e){console.log("Reattaching media stream");c.mozSrcObject=e.mozSrcObject;c.play()},MediaStream.prototype.getVideoTracks=
function(){return[]},MediaStream.prototype.getAudioTracks=function(){return[]}):navigator.webkitGetUserMedia?(console.log("This appears to be Chrome"),webrtcDetectedBrowser="chrome",RTCPeerConnection=webkitRTCPeerConnection,getUserMedia=navigator.webkitGetUserMedia.bind(navigator),attachMediaStream=function(c,e){"undefined"!==typeof c.srcObject?c.srcObject=e:"undefined"!==typeof c.mozSrcObject?c.mozSrcObject=e:"undefined"!==typeof c.src?c.src=URL.createObjectURL(e):console.log("Error attaching stream to element.")},
reattachMediaStream=function(c,e){c.src=e.src},webkitMediaStream.prototype.getVideoTracks||(webkitMediaStream.prototype.getVideoTracks=function(){return this.videoTracks},webkitMediaStream.prototype.getAudioTracks=function(){return this.audioTracks}),webkitRTCPeerConnection.prototype.getLocalStreams||(webkitRTCPeerConnection.prototype.getLocalStreams=function(){return this.localStreams},webkitRTCPeerConnection.prototype.getRemoteStreams=function(){return this.remoteStreams})):console.log("Browser does not appear to be WebRTC-capable");(function(c,e){"function"===typeof define&&define.amd?define(["jquery"],e):"object"===typeof exports?module.exports=e(require("jquery")):c.bootbox=e(c.jQuery)})(this,function init(e,f){function d(b,a,g){b.stopPropagation();b.preventDefault();e.isFunction(g)&&!1===g(b)||a.modal("hide")}function a(b){var a,g=0;for(a in b)g++;return g}function b(b,a){var g=0;e.each(b,function(b,d){a(b,d,g++)})}function g(g){var d,k;if("object"!==typeof g)throw Error("Please supply an object of options");if(!g.message)throw Error("Please specify a message");
g=e.extend({},D,g);g.buttons||(g.buttons={});g.backdrop=g.backdrop?"static":!1;d=g.buttons;k=a(d);b(d,function(b,a,g){e.isFunction(a)&&(a=d[b]={callback:a});if("object"!==e.type(a))throw Error("button with key "+b+" must be an object");a.label||(a.label=b);a.className||(a.className=2>=k&&g===k-1?"btn-primary":"btn-default")});return g}function k(b,a){var g=b.length,d={};if(1>g||2<g)throw Error("Invalid argument length");2===g||"string"===typeof b[0]?(d[a[0]]=b[0],d[a[1]]=b[1]):d=b[0];return d}function r(b,
a,g){return e.extend(!0,{},b,k(a,g))}function l(b,a,g,d){b={className:"bootbox-"+b,buttons:u.apply(null,a)};return A(r(b,d,g),a)}function u(){for(var b={},a=0,g=arguments.length;a<g;a++){var d=arguments[a],k=d.toLowerCase(),d=d.toUpperCase(),f=R[D.locale];b[k]={label:f?f[d]:R.en[d]}}return b}function A(a,g){var d={};b(g,function(b,a){d[a]=!0});b(a.buttons,function(b){if(d[b]===f)throw Error("button key "+b+" is not allowed (options are "+g.join("\n")+")");});return a}var I={text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",
textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",
time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"},D={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,container:"body"},m={alert:function(){var b;b=l("alert",["ok"],["message","callback"],arguments);if(b.callback&&
!e.isFunction(b.callback))throw Error("alert requires callback property to be a function when provided");b.buttons.ok.callback=b.onEscape=function(){return e.isFunction(b.callback)?b.callback():!0};return m.dialog(b)},confirm:function(){var b;b=l("confirm",["cancel","confirm"],["message","callback"],arguments);b.buttons.cancel.callback=b.onEscape=function(){return b.callback(!1)};b.buttons.confirm.callback=function(){return b.callback(!0)};if(!e.isFunction(b.callback))throw Error("confirm requires a callback");
return m.dialog(b)},prompt:function(){var a,g,d,k,l,v;k=e("<form class='bootbox-form'></form>");g={className:"bootbox-prompt",buttons:u("cancel","confirm"),value:"",inputType:"text"};a=A(r(g,arguments,["title","callback"]),["cancel","confirm"]);g=a.show===f?!0:a.show;a.message=k;a.buttons.cancel.callback=a.onEscape=function(){return a.callback(null)};a.buttons.confirm.callback=function(){var g;switch(a.inputType){case "text":case "textarea":case "email":case "select":case "date":case "time":case "number":case "password":g=
l.val();break;case "checkbox":var d=l.find("input:checked");g=[];b(d,function(b,a){g.push(e(a).val())})}return a.callback(g)};a.show=!1;if(!a.title)throw Error("prompt requires a title");if(!e.isFunction(a.callback))throw Error("prompt requires a callback");if(!I[a.inputType])throw Error("invalid prompt type");l=e(I[a.inputType]);switch(a.inputType){case "text":case "textarea":case "email":case "date":case "time":case "number":case "password":l.val(a.value);break;case "select":var K={};v=a.inputOptions||
[];if(!v.length)throw Error("prompt with select requires options");b(v,function(b,a){var g=l;if(a.value===f||a.text===f)throw Error("given options in wrong format");a.group&&(K[a.group]||(K[a.group]=e("<optgroup/>").attr("label",a.group)),g=K[a.group]);g.append("<option value='"+a.value+"'>"+a.text+"</option>")});b(K,function(b,a){l.append(a)});l.val(a.value);break;case "checkbox":var D=e.isArray(a.value)?a.value:[a.value];v=a.inputOptions||[];if(!v.length)throw Error("prompt with checkbox requires options");
if(!v[0].value||!v[0].text)throw Error("given options in wrong format");l=e("<div/>");b(v,function(g,d){var k=e(I[a.inputType]);k.find("input").attr("value",d.value);k.find("label").append(d.text);b(D,function(b,a){a===d.value&&k.find("input").prop("checked",!0)});l.append(k)})}a.placeholder&&l.attr("placeholder",a.placeholder);a.pattern&&l.attr("pattern",a.pattern);k.append(l);k.on("submit",function(b){b.preventDefault();b.stopPropagation();d.find(".btn-primary").click()});d=m.dialog(a);d.off("shown.bs.modal");
d.on("shown.bs.modal",function(){l.focus()});!0===g&&d.modal("show");return d},dialog:function(a){a=g(a);var k=e("<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>"),f=k.find(".modal-dialog"),r=k.find(".modal-body"),l="",m={onEscape:a.onEscape};b(a.buttons,function(b,a){l+="<button data-bb-handler='"+b+"' type='button' class='btn "+a.className+"'>"+a.label+"</button>";
m[b]=a.callback});r.find(".bootbox-body").html(a.message);!0===a.animate&&k.addClass("fade");a.className&&k.addClass(a.className);"large"===a.size&&f.addClass("modal-lg");"small"===a.size&&f.addClass("modal-sm");a.title&&r.before("<div class='modal-header'><h4 class='modal-title'></h4></div>");a.closeButton&&(f=e("<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>"),a.title?k.find(".modal-header").prepend(f):f.css("margin-top","-10px").prependTo(r));
a.title&&k.find(".modal-title").html(a.title);l.length&&(r.after("<div class='modal-footer'></div>"),k.find(".modal-footer").html(l));k.on("hidden.bs.modal",function(b){b.target===this&&k.remove()});k.on("shown.bs.modal",function(){k.find(".btn-primary:first").focus()});k.on("escape.close.bb",function(b){m.onEscape&&d(b,k,m.onEscape)});k.on("click",".modal-footer button",function(b){var a=e(this).data("bb-handler");d(b,k,m[a])});k.on("click",".bootbox-close-button",function(b){d(b,k,m.onEscape)});
k.on("keyup",function(b){27===b.which&&k.trigger("escape.close.bb")});e(a.container).append(k);k.modal({backdrop:a.backdrop,keyboard:!1,show:!1});a.show&&k.modal("show");return k},setDefaults:function(){var b={};2===arguments.length?b[arguments[0]]=arguments[1]:b=arguments[0];e.extend(D,b)},hideAll:function(){e(".bootbox").modal("hide");return m}},R={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zru\u0161it",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},
de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"\u0395\u03bd\u03c4\u03ac\u03be\u03b5\u03b9",CANCEL:"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7",CONFIRM:"\u0395\u03c0\u03b9\u03b2\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"\u05d0\u05d9\u05e9\u05d5\u05e8",
CANCEL:"\u05d1\u05d9\u05d8\u05d5\u05dc",CONFIRM:"\u05d0\u05d9\u05e9\u05d5\u05e8"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"\u30ad\u30e3\u30f3\u30bb\u30eb",CONFIRM:"\u78ba\u8a8d"},lt:{OK:"Gerai",CANCEL:"At\u0161aukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprin\u0101t"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd\u017a"},
pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"\u041e\u0442\u043c\u0435\u043d\u0430",CONFIRM:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"\u0130ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u786e\u8ba4"},zh_TW:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u78ba\u8a8d"}};m.init=function(b){return init(b||e)};return m});if("undefined"==typeof jQuery)throw Error("Bootstrap's JavaScript requires jQuery");+function(c){c=c.fn.jquery.split(" ")[0].split(".");if(2>c[0]&&9>c[1]||1==c[0]&&9==c[1]&&1>c[2])throw Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher");}(jQuery);
+function(c){function e(){var c=document.createElement("bootstrap"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},a;for(a in d)if(void 0!==c.style[a])return{end:d[a]};return!1}c.fn.emulateTransitionEnd=function(f){var d=!1,a=this;c(this).one("bsTransitionEnd",function(){d=!0});return setTimeout(function(){d||c(a).trigger(c.support.transition.end)},f),this};c(function(){c.support.transition=e();c.support.transition&&
(c.event.special.bsTransitionEnd={bindType:c.support.transition.end,delegateType:c.support.transition.end,handle:function(f){return c(f.target).is(this)?f.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery);
+function(c){var e=function(d){c(d).on("click",'[data-dismiss="alert"]',this.close)};e.VERSION="3.3.1";e.TRANSITION_DURATION=150;e.prototype.close=function(d){function a(){k.detach().trigger("closed.bs.alert").remove()}var b=c(this),g=b.attr("data-target");g||(g=b.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,""));var k=c(g);d&&d.preventDefault();k.length||(k=b.closest(".alert"));k.trigger(d=c.Event("close.bs.alert"));d.isDefaultPrevented()||(k.removeClass("in"),c.support.transition&&k.hasClass("fade")?
k.one("bsTransitionEnd",a).emulateTransitionEnd(e.TRANSITION_DURATION):a())};var f=c.fn.alert;c.fn.alert=function(d){return this.each(function(){var a=c(this),b=a.data("bs.alert");b||a.data("bs.alert",b=new e(this));"string"==typeof d&&b[d].call(a)})};c.fn.alert.Constructor=e;c.fn.alert.noConflict=function(){return c.fn.alert=f,this};c(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',e.prototype.close)}(jQuery);
+function(c){function e(a){return this.each(function(){var b=c(this),g=b.data("bs.button"),d="object"==typeof a&&a;g||b.data("bs.button",g=new f(this,d));"toggle"==a?g.toggle():a&&g.setState(a)})}var f=function(a,b){this.$element=c(a);this.options=c.extend({},f.DEFAULTS,b);this.isLoading=!1};f.VERSION="3.3.1";f.DEFAULTS={loadingText:"loading..."};f.prototype.setState=function(a){var b=this.$element,g=b.is("input")?"val":"html",d=b.data();a+="Text";null==d.resetText&&b.data("resetText",b[g]());setTimeout(c.proxy(function(){b[g](null==
d[a]?this.options[a]:d[a]);"loadingText"==a?(this.isLoading=!0,b.addClass("disabled").attr("disabled","disabled")):this.isLoading&&(this.isLoading=!1,b.removeClass("disabled").removeAttr("disabled"))},this),0)};f.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active"));a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",
!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var d=c.fn.button;c.fn.button=e;c.fn.button.Constructor=f;c.fn.button.noConflict=function(){return c.fn.button=d,this};c(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(a){var b=c(a.target);b.hasClass("btn")||(b=b.closest(".btn"));e.call(b,"toggle");a.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(a){c(a.target).closest(".btn").toggleClass("focus",
/^focus(in)?$/.test(a.type))})}(jQuery);
+function(c){function e(b){return this.each(function(){var a=c(this),d=a.data("bs.carousel"),r=c.extend({},f.DEFAULTS,a.data(),"object"==typeof b&&b),e="string"==typeof b?b:r.slide;d||a.data("bs.carousel",d=new f(this,r));"number"==typeof b?d.to(b):e?d[e]():r.interval&&d.pause().cycle()})}var f=function(b,a){this.$element=c(b);this.$indicators=this.$element.find(".carousel-indicators");this.options=a;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",
c.proxy(this.keydown,this));"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",c.proxy(this.pause,this)).on("mouseleave.bs.carousel",c.proxy(this.cycle,this))};f.VERSION="3.3.1";f.TRANSITION_DURATION=600;f.DEFAULTS={interval:5E3,pause:"hover",wrap:!0,keyboard:!0};f.prototype.keydown=function(b){if(!/input|textarea/i.test(b.target.tagName)){switch(b.which){case 37:this.prev();break;case 39:this.next();break;default:return}b.preventDefault()}};
f.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(c.proxy(this.next,this),this.options.interval)),this};f.prototype.getItemIndex=function(b){return this.$items=b.parent().children(".item"),this.$items.index(b||this.$active)};f.prototype.getItemForDirection=function(b,a){var c="prev"==b?-1:1,c=(this.getItemIndex(a)+c)%this.$items.length;return this.$items.eq(c)};f.prototype.to=function(b){var a=
this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){a.to(b)}):c==b?this.pause().cycle():this.slide(b>c?"next":"prev",this.$items.eq(b))};f.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&c.support.transition&&(this.$element.trigger(c.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};f.prototype.next=
function(){return this.sliding?void 0:this.slide("next")};f.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")};f.prototype.slide=function(b,a){var d=this.$element.find(".item.active"),e=a||this.getItemForDirection(b,d),l=this.interval,u="next"==b?"left":"right",A="next"==b?"first":"last",I=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[A]()}if(e.hasClass("active"))return this.sliding=!1;var A=e[0],D=c.Event("slide.bs.carousel",{relatedTarget:A,
direction:u});if(this.$element.trigger(D),!D.isDefaultPrevented()){if(this.sliding=!0,l&&this.pause(),this.$indicators.length)this.$indicators.find(".active").removeClass("active"),(D=c(this.$indicators.children()[this.getItemIndex(e)]))&&D.addClass("active");var m=c.Event("slid.bs.carousel",{relatedTarget:A,direction:u});return c.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(u),e.addClass(u),d.one("bsTransitionEnd",function(){e.removeClass([b,u].join(" ")).addClass("active");
d.removeClass(["active",u].join(" "));I.sliding=!1;setTimeout(function(){I.$element.trigger(m)},0)}).emulateTransitionEnd(f.TRANSITION_DURATION)):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger(m)),l&&this.cycle(),this}};var d=c.fn.carousel;c.fn.carousel=e;c.fn.carousel.Constructor=f;c.fn.carousel.noConflict=function(){return c.fn.carousel=d,this};var a=function(b){var a,d=c(this),f=c(d.attr("data-target")||(a=d.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""));f.hasClass("carousel")&&
(a=c.extend({},f.data(),d.data()),(d=d.attr("data-slide-to"))&&(a.interval=!1),e.call(f,a),d&&f.data("bs.carousel").to(d),b.preventDefault())};c(document).on("click.bs.carousel.data-api","[data-slide]",a).on("click.bs.carousel.data-api","[data-slide-to]",a);c(window).on("load",function(){c('[data-ride="carousel"]').each(function(){var b=c(this);e.call(b,b.data())})})}(jQuery);
+function(c){function e(b){var a;b=b.attr("data-target")||(a=b.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"");return c(b)}function f(b){return this.each(function(){var a=c(this),k=a.data("bs.collapse"),f=c.extend({},d.DEFAULTS,a.data(),"object"==typeof b&&b);!k&&f.toggle&&"show"==b&&(f.toggle=!1);k||a.data("bs.collapse",k=new d(this,f));"string"==typeof b&&k[b]()})}var d=function(b,a){this.$element=c(b);this.options=c.extend({},d.DEFAULTS,a);this.$trigger=c(this.options.trigger).filter('[href="#'+
b.id+'"], [data-target="#'+b.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()};d.VERSION="3.3.1";d.TRANSITION_DURATION=350;d.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'};d.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,a=this.$parent&&
this.$parent.find("> .panel").children(".in, .collapsing");if(!(a&&a.length&&(b=a.data("bs.collapse"),b&&b.transitioning))){var k=c.Event("show.bs.collapse");if(this.$element.trigger(k),!k.isDefaultPrevented()){a&&a.length&&(f.call(a,"hide"),b||a.data("bs.collapse",null));var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0).attr("aria-expanded",!0);this.$trigger.removeClass("collapsed").attr("aria-expanded",!0);this.transitioning=1;b=function(){this.$element.removeClass("collapsing").addClass("collapse in")[e]("");
this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!c.support.transition)return b.call(this);a=c.camelCase(["scroll",e].join("-"));this.$element.one("bsTransitionEnd",c.proxy(b,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[e](this.$element[0][a])}}}};d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=c.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){b=this.dimension();this.$element[b](this.$element[b]())[0].offsetHeight;
this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1);this.$trigger.addClass("collapsed").attr("aria-expanded",!1);this.transitioning=1;var a=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return c.support.transition?void this.$element[b](0).one("bsTransitionEnd",c.proxy(a,this)).emulateTransitionEnd(d.TRANSITION_DURATION):a.call(this)}}};d.prototype.toggle=function(){this[this.$element.hasClass("in")?
"hide":"show"]()};d.prototype.getParent=function(){return c(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(c.proxy(function(b,a){var d=c(a);this.addAriaAndCollapsedClass(e(d),d)},this)).end()};d.prototype.addAriaAndCollapsedClass=function(b,a){var c=b.hasClass("in");b.attr("aria-expanded",c);a.toggleClass("collapsed",!c).attr("aria-expanded",c)};var a=c.fn.collapse;c.fn.collapse=f;c.fn.collapse.Constructor=d;c.fn.collapse.noConflict=function(){return c.fn.collapse=
a,this};c(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(b){var a=c(this);a.attr("data-target")||b.preventDefault();b=e(a);a=b.data("bs.collapse")?"toggle":c.extend({},a.data(),{trigger:this});f.call(b,a)})}(jQuery);
+function(c){function e(b){b&&3===b.which||(c(d).remove(),c(a).each(function(){var a=c(this),d=f(a),g={relatedTarget:this};d.hasClass("open")&&(d.trigger(b=c.Event("hide.bs.dropdown",g)),b.isDefaultPrevented()||(a.attr("aria-expanded","false"),d.removeClass("open").trigger("hidden.bs.dropdown",g)))}))}function f(b){var a=b.attr("data-target");a||(a=b.attr("href"),a=a&&/#[A-Za-z]/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,""));return(a=a&&c(a))&&a.length?a:b.parent()}var d=".dropdown-backdrop",a='[data-toggle="dropdown"]',
b=function(b){c(b).on("click.bs.dropdown",this.toggle)};b.VERSION="3.3.1";b.prototype.toggle=function(b){var a=c(this);if(!a.is(".disabled, :disabled")){var d=f(a),g=d.hasClass("open");if(e(),!g){"ontouchstart"in document.documentElement&&!d.closest(".navbar-nav").length&&c('<div class="dropdown-backdrop"/>').insertAfter(c(this)).on("click",e);g={relatedTarget:this};if(d.trigger(b=c.Event("show.bs.dropdown",g)),b.isDefaultPrevented())return;a.trigger("focus").attr("aria-expanded","true");d.toggleClass("open").trigger("shown.bs.dropdown",
g)}return!1}};b.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=c(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var g=f(d),e=g.hasClass("open");if(!e&&27!=b.which||e&&27==b.which)return 27==b.which&&g.find(a).trigger("focus"),d.trigger("click");d=g.find('[role="menu"] li:not(.divider):visible a, [role="listbox"] li:not(.divider):visible a');d.length&&(g=d.index(b.target),38==b.which&&0<g&&g--,40==b.which&&
g<d.length-1&&g++,~g||(g=0),d.eq(g).trigger("focus"))}}};var g=c.fn.dropdown;c.fn.dropdown=function(a){return this.each(function(){var d=c(this),g=d.data("bs.dropdown");g||d.data("bs.dropdown",g=new b(this));"string"==typeof a&&g[a].call(d)})};c.fn.dropdown.Constructor=b;c.fn.dropdown.noConflict=function(){return c.fn.dropdown=g,this};c(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(b){b.stopPropagation()}).on("click.bs.dropdown.data-api",a,
b.prototype.toggle).on("keydown.bs.dropdown.data-api",a,b.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',b.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',b.prototype.keydown)}(jQuery);
+function(c){function e(a,b){return this.each(function(){var d=c(this),k=d.data("bs.modal"),e=c.extend({},f.DEFAULTS,d.data(),"object"==typeof a&&a);k||d.data("bs.modal",k=new f(this,e));"string"==typeof a?k[a](b):e.show&&k.show(b)})}var f=function(a,b){this.options=b;this.$body=c(document.body);this.$element=c(a);this.$backdrop=this.isShown=null;this.scrollbarWidth=0;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,c.proxy(function(){this.$element.trigger("loaded.bs.modal")},
this))};f.VERSION="3.3.1";f.TRANSITION_DURATION=300;f.BACKDROP_TRANSITION_DURATION=150;f.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};f.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)};f.prototype.show=function(a){var b=this,d=c.Event("show.bs.modal",{relatedTarget:a});this.$element.trigger(d);this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",
'[data-dismiss="modal"]',c.proxy(this.hide,this)),this.backdrop(function(){var d=c.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(b.$body);b.$element.show().scrollTop(0);b.options.backdrop&&b.adjustBackdrop();b.adjustDialog();d&&b.$element[0].offsetWidth;b.$element.addClass("in").attr("aria-hidden",!1);b.enforceFocus();var g=c.Event("shown.bs.modal",{relatedTarget:a});d?b.$element.find(".modal-dialog").one("bsTransitionEnd",function(){b.$element.trigger("focus").trigger(g)}).emulateTransitionEnd(f.TRANSITION_DURATION):
b.$element.trigger("focus").trigger(g)}))};f.prototype.hide=function(a){a&&a.preventDefault();a=c.Event("hide.bs.modal");this.$element.trigger(a);this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),c(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),c.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",c.proxy(this.hideModal,this)).emulateTransitionEnd(f.TRANSITION_DURATION):
this.hideModal())};f.prototype.enforceFocus=function(){c(document).off("focusin.bs.modal").on("focusin.bs.modal",c.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))};f.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",c.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};f.prototype.resize=function(){this.isShown?
c(window).on("resize.bs.modal",c.proxy(this.handleUpdate,this)):c(window).off("resize.bs.modal")};f.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.$body.removeClass("modal-open");a.resetAdjustments();a.resetScrollbar();a.$element.trigger("hidden.bs.modal")})};f.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};f.prototype.backdrop=function(a){var b=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&
this.options.backdrop){var k=c.support.transition&&d;if(this.$backdrop=c('<div class="modal-backdrop '+d+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",c.proxy(function(b){b.target===b.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),k&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),a)k?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(f.BACKDROP_TRANSITION_DURATION):a()}else!this.isShown&&
this.$backdrop?(this.$backdrop.removeClass("in"),d=function(){b.removeBackdrop();a&&a()},c.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",d).emulateTransitionEnd(f.BACKDROP_TRANSITION_DURATION):d()):a&&a()};f.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop();this.adjustDialog()};f.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)};f.prototype.adjustDialog=function(){var a=
this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})};f.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};f.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight;this.scrollbarWidth=this.measureScrollbar()};f.prototype.setScrollbar=
function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)};f.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};f.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure";this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=c.fn.modal;c.fn.modal=e;c.fn.modal.Constructor=f;c.fn.modal.noConflict=
function(){return c.fn.modal=d,this};c(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var b=c(this),d=b.attr("href"),k=c(b.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),d=k.data("bs.modal")?"toggle":c.extend({remote:!/#/.test(d)&&d},k.data(),b.data());b.is("a")&&a.preventDefault();k.one("show.bs.modal",function(a){a.isDefaultPrevented()||k.one("hidden.bs.modal",function(){b.is(":visible")&&b.trigger("focus")})});e.call(k,d,this)})}(jQuery);
+function(c){var e=function(d,a){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",d,a)};e.VERSION="3.3.1";e.TRANSITION_DURATION=150;e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};e.prototype.init=function(d,a,b){this.enabled=
!0;this.type=d;this.$element=c(a);this.options=this.getOptions(b);this.$viewport=this.options.viewport&&c(this.options.viewport.selector||this.options.viewport);d=this.options.trigger.split(" ");for(a=d.length;a--;)if(b=d[a],"click"==b)this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this));else if("manual"!=b){var g="hover"==b?"mouseleave":"focusout";this.$element.on(("hover"==b?"mouseenter":"focusin")+"."+this.type,this.options.selector,c.proxy(this.enter,this));this.$element.on(g+
"."+this.type,this.options.selector,c.proxy(this.leave,this))}this.options.selector?this._options=c.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};e.prototype.getDefaults=function(){return e.DEFAULTS};e.prototype.getOptions=function(d){return d=c.extend({},this.getDefaults(),this.$element.data(),d),d.delay&&"number"==typeof d.delay&&(d.delay={show:d.delay,hide:d.delay}),d};e.prototype.getDelegateOptions=function(){var d={},a=this.getDefaults();return this._options&&c.each(this._options,
function(b,c){a[b]!=c&&(d[b]=c)}),d};e.prototype.enter=function(d){var a=d instanceof this.constructor?d:c(d.currentTarget).data("bs."+this.type);return a&&a.$tip&&a.$tip.is(":visible")?void(a.hoverState="in"):(a||(a=new this.constructor(d.currentTarget,this.getDelegateOptions()),c(d.currentTarget).data("bs."+this.type,a)),clearTimeout(a.timeout),a.hoverState="in",a.options.delay&&a.options.delay.show?void(a.timeout=setTimeout(function(){"in"==a.hoverState&&a.show()},a.options.delay.show)):a.show())};
e.prototype.leave=function(d){var a=d instanceof this.constructor?d:c(d.currentTarget).data("bs."+this.type);return a||(a=new this.constructor(d.currentTarget,this.getDelegateOptions()),c(d.currentTarget).data("bs."+this.type,a)),clearTimeout(a.timeout),a.hoverState="out",a.options.delay&&a.options.delay.hide?void(a.timeout=setTimeout(function(){"out"==a.hoverState&&a.hide()},a.options.delay.hide)):a.hide()};e.prototype.show=function(){var d=c.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(d);
var a=c.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(!d.isDefaultPrevented()&&a){var b=this,d=this.tip(),a=this.getUID(this.type);this.setContent();d.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&d.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,d[0],this.$element[0]):this.options.placement,g=/\s?auto?\s?/i,k=g.test(a);k&&(a=a.replace(g,"")||"top");d.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+
this.type,this);this.options.container?d.appendTo(this.options.container):d.insertAfter(this.$element);var g=this.getPosition(),f=d[0].offsetWidth,l=d[0].offsetHeight;if(k){var k=a,u=this.options.container?c(this.options.container):this.$element.parent(),u=this.getPosition(u),a="bottom"==a&&g.bottom+l>u.bottom?"top":"top"==a&&g.top-l<u.top?"bottom":"right"==a&&g.right+f>u.width?"left":"left"==a&&g.left-f<u.left?"right":a;d.removeClass(k).addClass(a)}g=this.getCalculatedOffset(a,g,f,l);this.applyPlacement(g,
a);a=function(){var a=b.hoverState;b.$element.trigger("shown.bs."+b.type);b.hoverState=null;"out"==a&&b.leave(b)};c.support.transition&&this.$tip.hasClass("fade")?d.one("bsTransitionEnd",a).emulateTransitionEnd(e.TRANSITION_DURATION):a()}}};e.prototype.applyPlacement=function(d,a){var b=this.tip(),g=b[0].offsetWidth,f=b[0].offsetHeight,e=parseInt(b.css("margin-top"),10),l=parseInt(b.css("margin-left"),10);isNaN(e)&&(e=0);isNaN(l)&&(l=0);d.top+=e;d.left+=l;c.offset.setOffset(b[0],c.extend({using:function(a){b.css({top:Math.round(a.top),
left:Math.round(a.left)})}},d),0);b.addClass("in");var l=b[0].offsetWidth,u=b[0].offsetHeight;"top"==a&&u!=f&&(d.top=d.top+f-u);var A=this.getViewportAdjustedDelta(a,d,l,u);A.left?d.left+=A.left:d.top+=A.top;g=(e=/top|bottom/.test(a))?2*A.left-g+l:2*A.top-f+u;f=e?"offsetWidth":"offsetHeight";b.offset(d);this.replaceArrow(g,b[0][f],e)};e.prototype.replaceArrow=function(d,a,b){this.arrow().css(b?"left":"top",50*(1-d/a)+"%").css(b?"top":"left","")};e.prototype.setContent=function(){var d=this.tip(),
a=this.getTitle();d.find(".tooltip-inner")[this.options.html?"html":"text"](a);d.removeClass("fade in top bottom left right")};e.prototype.hide=function(d){function a(){"in"!=b.hoverState&&g.detach();b.$element.removeAttr("aria-describedby").trigger("hidden.bs."+b.type);d&&d()}var b=this,g=this.tip(),f=c.Event("hide.bs."+this.type);return this.$element.trigger(f),f.isDefaultPrevented()?void 0:(g.removeClass("in"),c.support.transition&&this.$tip.hasClass("fade")?g.one("bsTransitionEnd",a).emulateTransitionEnd(e.TRANSITION_DURATION):
a(),this.hoverState=null,this)};e.prototype.fixTitle=function(){var d=this.$element;(d.attr("title")||"string"!=typeof d.attr("data-original-title"))&&d.attr("data-original-title",d.attr("title")||"").attr("title","")};e.prototype.hasContent=function(){return this.getTitle()};e.prototype.getPosition=function(d){d=d||this.$element;var a=d[0],b="BODY"==a.tagName,a=a.getBoundingClientRect();null==a.width&&(a=c.extend({},a,{width:a.right-a.left,height:a.bottom-a.top}));var g=b?{top:0,left:0}:d.offset();
d={scroll:b?document.documentElement.scrollTop||document.body.scrollTop:d.scrollTop()};b=b?{width:c(window).width(),height:c(window).height()}:null;return c.extend({},a,d,b,g)};e.prototype.getCalculatedOffset=function(d,a,b,c){return"bottom"==d?{top:a.top+a.height,left:a.left+a.width/2-b/2}:"top"==d?{top:a.top-c,left:a.left+a.width/2-b/2}:"left"==d?{top:a.top+a.height/2-c/2,left:a.left-b}:{top:a.top+a.height/2-c/2,left:a.left+a.width}};e.prototype.getViewportAdjustedDelta=function(d,a,b,c){var f=
{top:0,left:0};if(!this.$viewport)return f;var e=this.options.viewport&&this.options.viewport.padding||0,l=this.getPosition(this.$viewport);/right|left/.test(d)?(b=a.top-e-l.scroll,a=a.top+e-l.scroll+c,b<l.top?f.top=l.top-b:a>l.top+l.height&&(f.top=l.top+l.height-a)):(c=a.left-e,a=a.left+e+b,c<l.left?f.left=l.left-c:a>l.width&&(f.left=l.left+l.width-a));return f};e.prototype.getTitle=function(){var d=this.$element,a=this.options;return d.attr("data-original-title")||("function"==typeof a.title?a.title.call(d[0]):
a.title)};e.prototype.getUID=function(d){do d+=~~(1E6*Math.random());while(document.getElementById(d));return d};e.prototype.tip=function(){return this.$tip=this.$tip||c(this.options.template)};e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};e.prototype.enable=function(){this.enabled=!0};e.prototype.disable=function(){this.enabled=!1};e.prototype.toggleEnabled=function(){this.enabled=!this.enabled};e.prototype.toggle=function(d){var a=this;d&&(a=c(d.currentTarget).data("bs."+
this.type),a||(a=new this.constructor(d.currentTarget,this.getDelegateOptions()),c(d.currentTarget).data("bs."+this.type,a)));a.tip().hasClass("in")?a.leave(a):a.enter(a)};e.prototype.destroy=function(){var d=this;clearTimeout(this.timeout);this.hide(function(){d.$element.off("."+d.type).removeData("bs."+d.type)})};var f=c.fn.tooltip;c.fn.tooltip=function(d){return this.each(function(){var a=c(this),b=a.data("bs.tooltip"),g="object"==typeof d&&d,f=g&&g.selector;(b||"destroy"!=d)&&(f?(b||a.data("bs.tooltip",
b={}),b[f]||(b[f]=new e(this,g))):b||a.data("bs.tooltip",b=new e(this,g)),"string"==typeof d&&b[d]())})};c.fn.tooltip.Constructor=e;c.fn.tooltip.noConflict=function(){return c.fn.tooltip=f,this}}(jQuery);
+function(c){var e=function(d,a){this.init("popover",d,a)};if(!c.fn.tooltip)throw Error("Popover requires tooltip.js");e.VERSION="3.3.1";e.DEFAULTS=c.extend({},c.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});e.prototype=c.extend({},c.fn.tooltip.Constructor.prototype);e.prototype.constructor=e;e.prototype.getDefaults=function(){return e.DEFAULTS};
e.prototype.setContent=function(){var d=this.tip(),a=this.getTitle(),b=this.getContent();d.find(".popover-title")[this.options.html?"html":"text"](a);d.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof b?"html":"append":"text"](b);d.removeClass("fade top bottom left right in");d.find(".popover-title").html()||d.find(".popover-title").hide()};e.prototype.hasContent=function(){return this.getTitle()||this.getContent()};e.prototype.getContent=function(){var d=this.$element,
a=this.options;return d.attr("data-content")||("function"==typeof a.content?a.content.call(d[0]):a.content)};e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};e.prototype.tip=function(){return this.$tip||(this.$tip=c(this.options.template)),this.$tip};var f=c.fn.popover;c.fn.popover=function(d){return this.each(function(){var a=c(this),b=a.data("bs.popover"),g="object"==typeof d&&d,f=g&&g.selector;(b||"destroy"!=d)&&(f?(b||a.data("bs.popover",b={}),b[f]||(b[f]=
new e(this,g))):b||a.data("bs.popover",b=new e(this,g)),"string"==typeof d&&b[d]())})};c.fn.popover.Constructor=e;c.fn.popover.noConflict=function(){return c.fn.popover=f,this}}(jQuery);
+function(c){function e(a,b){var d=c.proxy(this.process,this);this.$body=c("body");this.$scrollElement=c(c(a).is("body")?window:a);this.options=c.extend({},e.DEFAULTS,b);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",d);this.refresh();this.process()}function f(a){return this.each(function(){var b=c(this),d=b.data("bs.scrollspy"),f="object"==typeof a&&a;d||b.data("bs.scrollspy",
d=new e(this,f));"string"==typeof a&&d[a]()})}e.VERSION="3.3.1";e.DEFAULTS={offset:10};e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};e.prototype.refresh=function(){var a="offset",b=0;c.isWindow(this.$scrollElement[0])||(a="position",b=this.$scrollElement.scrollTop());this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=
c(this),d=d.data("target")||d.attr("href"),g=/^#./.test(d)&&c(d);return g&&g.length&&g.is(":visible")&&[[g[a]().top+b,d]]||null}).sort(function(b,a){return b[0]-a[0]}).each(function(){d.offsets.push(this[0]);d.targets.push(this[1])})};e.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,d=this.getScrollHeight(),c=this.options.offset+d-this.$scrollElement.height(),f=this.offsets,e=this.targets,u=this.activeTarget;if(this.scrollHeight!=d&&this.refresh(),b>=c)return u!=
(a=e[e.length-1])&&this.activate(a);if(u&&b<f[0])return this.activeTarget=null,this.clear();for(a=f.length;a--;)u!=e[a]&&b>=f[a]&&(!f[a+1]||b<=f[a+1])&&this.activate(e[a])};e.prototype.activate=function(a){this.activeTarget=a;this.clear();a=c(this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]').parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active"));a.trigger("activate.bs.scrollspy")};e.prototype.clear=function(){c(this.selector).parentsUntil(this.options.target,
".active").removeClass("active")};var d=c.fn.scrollspy;c.fn.scrollspy=f;c.fn.scrollspy.Constructor=e;c.fn.scrollspy.noConflict=function(){return c.fn.scrollspy=d,this};c(window).on("load.bs.scrollspy.data-api",function(){c('[data-spy="scroll"]').each(function(){var a=c(this);f.call(a,a.data())})})}(jQuery);
+function(c){function e(b){return this.each(function(){var a=c(this),d=a.data("bs.tab");d||a.data("bs.tab",d=new f(this));"string"==typeof b&&d[b]()})}var f=function(b){this.element=c(b)};f.VERSION="3.3.1";f.TRANSITION_DURATION=150;f.prototype.show=function(){var b=this.element,a=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var f=a.find(".active:last a"),e=c.Event("hide.bs.tab",{relatedTarget:b[0]}),
u=c.Event("show.bs.tab",{relatedTarget:f[0]});(f.trigger(e),b.trigger(u),u.isDefaultPrevented()||e.isDefaultPrevented())||(d=c(d),this.activate(b.closest("li"),a),this.activate(d,d.parent(),function(){f.trigger({type:"hidden.bs.tab",relatedTarget:b[0]});b.trigger({type:"shown.bs.tab",relatedTarget:f[0]})}))}};f.prototype.activate=function(b,a,d){function e(){l.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);
b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);u?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade");b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);d&&d()}var l=a.find("> .active"),u=d&&c.support.transition&&(l.length&&l.hasClass("fade")||!!a.find("> .fade").length);l.length&&u?l.one("bsTransitionEnd",e).emulateTransitionEnd(f.TRANSITION_DURATION):e();l.removeClass("in")};var d=c.fn.tab;
c.fn.tab=e;c.fn.tab.Constructor=f;c.fn.tab.noConflict=function(){return c.fn.tab=d,this};var a=function(b){b.preventDefault();e.call(c(this),"show")};c(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',a).on("click.bs.tab.data-api",'[data-toggle="pill"]',a)}(jQuery);
+function(c){function e(a){return this.each(function(){var b=c(this),d=b.data("bs.affix"),e="object"==typeof a&&a;d||b.data("bs.affix",d=new f(this,e));"string"==typeof a&&d[a]()})}var f=function(a,b){this.options=c.extend({},f.DEFAULTS,b);this.$target=c(this.options.target).on("scroll.bs.affix.data-api",c.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",c.proxy(this.checkPositionWithEventLoop,this));this.$element=c(a);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};
f.VERSION="3.3.1";f.RESET="affix affix-top affix-bottom";f.DEFAULTS={offset:0,target:window};f.prototype.getState=function(a,b,d,c){var f=this.$target.scrollTop(),e=this.$element.offset(),u=this.$target.height();if(null!=d&&"top"==this.affixed)return d>f?"top":!1;if("bottom"==this.affixed)return null!=d?f+this.unpin<=e.top?!1:"bottom":a-c>=f+u?!1:"bottom";var A=null==this.affixed,f=A?f:e.top;return null!=d&&d>=f?"top":null!=c&&f+(A?u:b)>=a-c?"bottom":!1};f.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;
this.$element.removeClass(f.RESET).addClass("affix");var a=this.$target.scrollTop();return this.pinnedOffset=this.$element.offset().top-a};f.prototype.checkPositionWithEventLoop=function(){setTimeout(c.proxy(this.checkPosition,this),1)};f.prototype.checkPosition=function(){if(this.$element.is(":visible")){var a=this.$element.height(),b=this.options.offset,d=b.top,e=b.bottom,r=c("body").height();"object"!=typeof b&&(e=d=b);"function"==typeof d&&(d=b.top(this.$element));"function"==typeof e&&(e=b.bottom(this.$element));
b=this.getState(r,a,d,e);if(this.affixed!=b){null!=this.unpin&&this.$element.css("top","");var d="affix"+(b?"-"+b:""),l=c.Event(d+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=b;this.unpin="bottom"==b?this.getPinnedOffset():null;this.$element.removeClass(f.RESET).addClass(d).trigger(d.replace("affix","affixed")+".bs.affix")}"bottom"==b&&this.$element.offset({top:r-a-e})}};var d=c.fn.affix;c.fn.affix=e;c.fn.affix.Constructor=f;c.fn.affix.noConflict=function(){return c.fn.affix=
d,this};c(window).on("load",function(){c('[data-spy="affix"]').each(function(){var a=c(this),b=a.data();b.offset=b.offset||{};null!=b.offsetBottom&&(b.offset.bottom=b.offsetBottom);null!=b.offsetTop&&(b.offset.top=b.offsetTop);e.call(a,b)})})}(jQuery);(function(){var c=[].slice;(function(e,f){var d;d=function(){function a(b,a){null==a&&(a={});this.$element=e(b);this.options=e.extend({},e.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),
offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},a);this.$wrapper=e("<div>",{"class":function(b){return function(){var a;a=[""+b.options.baseClass].concat(b._getClasses(b.options.wrapperClass));a.push(b.options.state?
""+b.options.baseClass+"-on":""+b.options.baseClass+"-off");null!=b.options.size&&a.push(""+b.options.baseClass+"-"+b.options.size);b.options.disabled&&a.push(""+b.options.baseClass+"-disabled");b.options.readonly&&a.push(""+b.options.baseClass+"-readonly");b.options.indeterminate&&a.push(""+b.options.baseClass+"-indeterminate");b.options.inverse&&a.push(""+b.options.baseClass+"-inverse");b.$element.attr("id")&&a.push(""+b.options.baseClass+"-id-"+b.$element.attr("id"));return a.join(" ")}}(this)()});
this.$container=e("<div>",{"class":""+this.options.baseClass+"-container"});this.$on=e("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor});this.$off=e("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor});this.$label=e("<span>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"});this.$element.on("init.bootstrapSwitch",
function(a){return function(){return a.options.onInit.apply(b,arguments)}}(this));this.$element.on("switchChange.bootstrapSwitch",function(a){return function(){return a.options.onSwitchChange.apply(b,arguments)}}(this));this.$container=this.$element.wrap(this.$container).parent();this.$wrapper=this.$container.wrap(this.$wrapper).parent();this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off);this.options.indeterminate&&this.$element.prop("indeterminate",
!0);this._init();this._elementHandlers();this._handleHandlers();this._labelHandlers();this._formHandler();this._externalLabelHandler();this.$element.trigger("init.bootstrapSwitch")}a.prototype._constructor=a;a.prototype.state=function(b,a){if("undefined"===typeof b)return this.options.state;if(this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio"))return this.$element;this.options.indeterminate&&this.indeterminate(!1);this.$element.prop("checked",
!!b).trigger("change.bootstrapSwitch",a);return this.$element};a.prototype.toggleState=function(b){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",b)};a.prototype.size=function(b){if("undefined"===typeof b)return this.options.size;null!=this.options.size&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size);b&&
this.$wrapper.addClass(""+this.options.baseClass+"-"+b);this._width();this._containerPosition();this.options.size=b;return this.$element};a.prototype.animate=function(b){return"undefined"===typeof b?this.options.animate:!!b===this.options.animate?this.$element:this.toggleAnimate()};a.prototype.toggleAnimate=function(){this.options.animate=!this.options.animate;this.$wrapper.toggleClass(""+this.options.baseClass+"-animate");return this.$element};a.prototype.disabled=function(b){return"undefined"===
typeof b?this.options.disabled:!!b===this.options.disabled?this.$element:this.toggleDisabled()};a.prototype.toggleDisabled=function(){this.options.disabled=!this.options.disabled;this.$element.prop("disabled",this.options.disabled);this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled");return this.$element};a.prototype.readonly=function(b){return"undefined"===typeof b?this.options.readonly:!!b===this.options.readonly?this.$element:this.toggleReadonly()};a.prototype.toggleReadonly=function(){this.options.readonly=
!this.options.readonly;this.$element.prop("readonly",this.options.readonly);this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly");return this.$element};a.prototype.indeterminate=function(b){return"undefined"===typeof b?this.options.indeterminate:!!b===this.options.indeterminate?this.$element:this.toggleIndeterminate()};a.prototype.toggleIndeterminate=function(){this.options.indeterminate=!this.options.indeterminate;this.$element.prop("indeterminate",this.options.indeterminate);this.$wrapper.toggleClass(""+
this.options.baseClass+"-indeterminate");this._containerPosition();return this.$element};a.prototype.inverse=function(b){return"undefined"===typeof b?this.options.inverse:!!b===this.options.inverse?this.$element:this.toggleInverse()};a.prototype.toggleInverse=function(){var b,a;this.$wrapper.toggleClass(""+this.options.baseClass+"-inverse");a=this.$on.clone(!0);b=this.$off.clone(!0);this.$on.replaceWith(b);this.$off.replaceWith(a);this.$on=b;this.$off=a;this.options.inverse=!this.options.inverse;
return this.$element};a.prototype.onColor=function(b){var a;a=this.options.onColor;if("undefined"===typeof b)return a;null!=a&&this.$on.removeClass(""+this.options.baseClass+"-"+a);this.$on.addClass(""+this.options.baseClass+"-"+b);this.options.onColor=b;return this.$element};a.prototype.offColor=function(b){var a;a=this.options.offColor;if("undefined"===typeof b)return a;null!=a&&this.$off.removeClass(""+this.options.baseClass+"-"+a);this.$off.addClass(""+this.options.baseClass+"-"+b);this.options.offColor=
b;return this.$element};a.prototype.onText=function(b){if("undefined"===typeof b)return this.options.onText;this.$on.html(b);this._width();this._containerPosition();this.options.onText=b;return this.$element};a.prototype.offText=function(b){if("undefined"===typeof b)return this.options.offText;this.$off.html(b);this._width();this._containerPosition();this.options.offText=b;return this.$element};a.prototype.labelText=function(b){if("undefined"===typeof b)return this.options.labelText;this.$label.html(b);
this._width();this.options.labelText=b;return this.$element};a.prototype.handleWidth=function(b){if("undefined"===typeof b)return this.options.handleWidth;this.options.handleWidth=b;this._width();this._containerPosition();return this.$element};a.prototype.labelWidth=function(b){if("undefined"===typeof b)return this.options.labelWidth;this.options.labelWidth=b;this._width();this._containerPosition();return this.$element};a.prototype.baseClass=function(b){return this.options.baseClass};a.prototype.wrapperClass=
function(b){if("undefined"===typeof b)return this.options.wrapperClass;b||(b=e.fn.bootstrapSwitch.defaults.wrapperClass);this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" "));this.$wrapper.addClass(this._getClasses(b).join(" "));this.options.wrapperClass=b;return this.$element};a.prototype.radioAllOff=function(b){if("undefined"===typeof b)return this.options.radioAllOff;b=!!b;if(b===this.options.radioAllOff)return this.$element;this.options.radioAllOff=b;return this.$element};
a.prototype.onInit=function(b){if("undefined"===typeof b)return this.options.onInit;b||(b=e.fn.bootstrapSwitch.defaults.onInit);this.options.onInit=b;return this.$element};a.prototype.onSwitchChange=function(b){if("undefined"===typeof b)return this.options.onSwitchChange;b||(b=e.fn.bootstrapSwitch.defaults.onSwitchChange);this.options.onSwitchChange=b;return this.$element};a.prototype.destroy=function(){var b;b=this.$element.closest("form");b.length&&b.off("reset.bootstrapSwitch").removeData("bootstrap-switch");
this.$container.children().not(this.$element).remove();this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch");return this.$element};a.prototype._width=function(){var b,a;b=this.$on.add(this.$off);b.add(this.$label).css("width","");a="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth;b.width(a);this.$label.width(function(b){return function(d,c){return"auto"!==b.options.labelWidth?b.options.labelWidth:c<a?a:c}}(this));
this._handleWidth=this.$on.outerWidth();this._labelWidth=this.$label.outerWidth();this.$container.width(2*this._handleWidth+this._labelWidth);return this.$wrapper.width(this._handleWidth+this._labelWidth)};a.prototype._containerPosition=function(b,a){null==b&&(b=this.options.state);this.$container.css("margin-left",function(a){return function(){var d;d=[0,"-"+a._handleWidth+"px"];return a.options.indeterminate?"-"+a._handleWidth/2+"px":b?a.options.inverse?d[1]:d[0]:a.options.inverse?d[0]:d[1]}}(this));
if(a)return setTimeout(function(){return a()},50)};a.prototype._init=function(){var b,a;b=function(b){return function(){b._width();return b._containerPosition(null,function(){if(b.options.animate)return b.$wrapper.addClass(""+b.options.baseClass+"-animate")})}}(this);return this.$wrapper.is(":visible")?b():a=f.setInterval(function(d){return function(){if(d.$wrapper.is(":visible"))return b(),f.clearInterval(a)}}(this),50)};a.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(b){return function(a,
d){var c;a.preventDefault();a.stopImmediatePropagation();c=b.$element.is(":checked");b._containerPosition(c);if(c!==b.options.state&&(b.options.state=c,b.$wrapper.toggleClass(""+b.options.baseClass+"-off").toggleClass(""+b.options.baseClass+"-on"),!d))return b.$element.is(":radio")&&e("[name='"+b.$element.attr("name")+"']").not(b.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),b.$element.trigger("switchChange.bootstrapSwitch",[c])}}(this),"focus.bootstrapSwitch":function(b){return function(a){a.preventDefault();
return b.$wrapper.addClass(""+b.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(b){return function(a){a.preventDefault();return b.$wrapper.removeClass(""+b.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(b){return function(a){if(a.which&&!b.options.disabled&&!b.options.readonly)switch(a.which){case 37:return a.preventDefault(),a.stopImmediatePropagation(),b.state(!1);case 39:return a.preventDefault(),a.stopImmediatePropagation(),b.state(!0)}}}(this)})};
a.prototype._handleHandlers=function(){this.$on.on("click.bootstrapSwitch",function(b){return function(a){a.preventDefault();a.stopPropagation();b.state(!1);return b.$element.trigger("focus.bootstrapSwitch")}}(this));return this.$off.on("click.bootstrapSwitch",function(a){return function(d){d.preventDefault();d.stopPropagation();a.state(!0);return a.$element.trigger("focus.bootstrapSwitch")}}(this))};a.prototype._labelHandlers=function(){return this.$label.on({"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(a){return function(d){if(!(a._dragStart||
a.options.disabled||a.options.readonly))return d.preventDefault(),d.stopPropagation(),a._dragStart=(d.pageX||d.originalEvent.touches[0].pageX)-parseInt(a.$container.css("margin-left"),10),a.options.animate&&a.$wrapper.removeClass(""+a.options.baseClass+"-animate"),a.$element.trigger("focus.bootstrapSwitch")}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(a){return function(d){if(null!=a._dragStart&&(d.preventDefault(),d=(d.pageX||d.originalEvent.touches[0].pageX)-a._dragStart,
!(d<-a._handleWidth||0<d)))return a._dragEnd=d,a.$container.css("margin-left",""+a._dragEnd+"px")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(a){return function(d){if(a._dragStart)return d.preventDefault(),a.options.animate&&a.$wrapper.addClass(""+a.options.baseClass+"-animate"),a._dragEnd?(d=a._dragEnd>-(a._handleWidth/2),a._dragEnd=!1,a.state(a.options.inverse?!d:d)):a.state(!a.options.state),a._dragStart=!1}}(this),"mouseleave.bootstrapSwitch":function(a){return function(d){return a.$label.trigger("mouseup.bootstrapSwitch")}}(this)})};
a.prototype._externalLabelHandler=function(){var a;a=this.$element.closest("label");return a.on("click",function(d){return function(c){c.preventDefault();c.stopImmediatePropagation();if(c.target===a[0])return d.toggleState()}}(this))};a.prototype._formHandler=function(){var a;a=this.$element.closest("form");if(!a.data("bootstrap-switch"))return a.on("reset.bootstrapSwitch",function(){return f.setTimeout(function(){return a.find("input").filter(function(){return e(this).data("bootstrap-switch")}).each(function(){return e(this).bootstrapSwitch("state",
this.checked)})},1)}).data("bootstrap-switch",!0)};a.prototype._getClasses=function(a){var d,c,f,l;if(!e.isArray(a))return[""+this.options.baseClass+"-"+a];c=[];f=0;for(l=a.length;f<l;f++)d=a[f],c.push(""+this.options.baseClass+"-"+d);return c};return a}();e.fn.bootstrapSwitch=function(){var a,b,f;b=arguments[0];a=2<=arguments.length?c.call(arguments,1):[];f=this;this.each(function(){var c,r;c=e(this);(r=c.data("bootstrap-switch"))||c.data("bootstrap-switch",r=new d(this,b));if("string"===typeof b)return f=
r[b].apply(r,a)});return f};e.fn.bootstrapSwitch.Constructor=d;return e.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}})(window.jQuery,window)}).call(this);$(function(){var c=$(window),e=$(".roomnameInput"),f=$("#publicMessages"),d=$(".users"),a=$(".inputMessage"),b=$(".privateMessage"),g=$(".login.page"),k=$(".chat.page"),r=$("#contextMenu"),l=$("#privateChannel"),u=$("#videoChannel"),A=$(".remoteVideo").get(0),I=$(".localVideo").get(0),D=$(".remoteAudio").get(0);$(".mute").bootstrapSwitch("state");$('[data-toggle="tooltip"]').tooltip();supportRTC()||$(".rtcAction").css("opacity",.5);i18n.init(function(m){function R(a){var b="",b=1===a.numUsers?b+m("there's 1 participant"):
b+(m("there are ")+a.numUsers+m(" participants"));n(b)}function N(a,b,d){b&&a?(F=b,z.emit("add user",{username:a,roomname:b,auth:d||H}),d&&(H=d)):(bootbox.alert(m("Error")+":"+m("Invalid user name or room name")),g.show())}function G(a,b){z.emit("new info",{toUser:a,msg:b})}function E(d){var c;c=d?b.val():a.val();(c=Common.cleanInput(c))&&V&&(d?(b.val(""),M({username:t||B,message:c,toUser:d}),z.emit("new message",{msg:c,toUser:d})):(a.val(""),M({username:t||B,message:c}),z.emit("new message",{msg:c})))}
function n(a,b){b=b||{};var d=$("<li>").addClass("log blinkOnAppearShort").text(a);"undefined"==typeof b.scrollToBottom&&(b.scrollToBottom=!0);b.color&&(d=d.css("color",b.color));Common.addElement(d,f,c,b)}function y(a,b){var d=m("file")+' "'+a+'" '+m("transfer completed in ")+b+m("s");n(d)}function v(){n(m("already sending receiving a file"))}function K(a,b,d){d=d||{};a=$('<li class="username userlist"/>').text(a).css("color",Common.getUsernameColor(a));d.scrollToBottom=!1;Common.addElement(a,b,
c,d)}function M(a,b){b=b||{};var d=h(a);0!==d.length&&(b.fade=!1,d.remove());d=$('<span class="messageType"/>');$('<span class="datetime"/>').text(Common.getCurrentTime());var e=$('<span class="username"/>').text(a.username).css("color",Common.getUsernameColor(a.username)),F=$('<span class="messageBody bubble"/>').html(Common.replaceNewLines(a.message));a.username===(t||B)?F.addClass("me"):F.addClass("you");var H=a.typing?"typing":"",H=$('<li class="message"/>').data("username",a.username).addClass(H);
a.toUser&&F.addClass("private");a.username===(t||B)?H.addClass("me").append(e,d,F):H.addClass("you").append(F,e,d);b.scrollToBottom=!0;Common.addElement(H,f,c,b);aa&&window.clearTimeout(aa);var Z=Common.getCurrentTime();aa=window.setTimeout(function(){n(m("last message at")+" "+Z)},12E4);a.username===(t||B)||a.typing||(q.isCancelled=!1,Common.newMsgTitle(m("New messages"),q))}function U(a){a=a||{};a.scrollToBottom=!0;var b=$('<li class="message"/>'),d=$('<span class="log"/>').text(m("Current people in the room")+
":");b.html(d);$("ul.users li").each(function(){var a=$('<span class="username"/>').text($(this).text()).css("color",Common.getUsernameColor($(this).text()));b=b.append(a)});Common.addElement(b,f,c,a)}function J(a){h(a).fadeOut(function(){$(this).remove()})}function ca(){V&&(C||(C=!0,z.emit("typing")),O=(new Date).getTime(),setTimeout(function(){2E3<=(new Date).getTime()-O&&C&&(z.emit("stop typing"),C=!1)},2E3))}function h(a){return $(".typing.message").filter(function(b){return $(this).data("username")===
a.username})}function W(d){(t||B)&&13===d.which&&(d.ctrlKey||d.metaKey||d.altKey||d.shiftKey?(d.preventDefault(),d.stopPropagation(),$(this).val(function(a,b){return b+"\n"})):a.is(":focus")?(E(),z.emit("stop typing"),C=!1):b.is(":focus")&&E(l.data("toUser")))}function P(a){a.preventDefault();a.stopPropagation()}function X(a){if(supportRTC()){var b=$(this).text();a.originalEvent.dataTransfer&&b!==t&&a.originalEvent.dataTransfer.files.length&&(a.preventDefault(),a.stopPropagation(),Y[b]=a.originalEvent.dataTransfer.files,
n(m("initiating file transfer with ")+b),z.emit("start file request",{to:b}))}else a.preventDefault(),a.stopPropagation()}function p(a,b){$(a).each(function(a,d){var c=m('Sending file "')+d.name+m('" to "')+b+m('". FileSize: ')+d.size;n(c);S.p2pOptions.to=b;S.p2pOptions.from=t||B;G(b,(t||B)+" =====>>> "+b+' : "'+d.name+'"');S.sendFile(d,y,v)})}function L(a){$(this).text()!==(t||B)&&(r.css({display:"block",left:a.pageX,top:a.pageY}),r.data("toUser",$(this).text()),r.i18n());return!1}$(".pages").i18n();
var V=!1,C=!1,O,T=m("TalkYet"),q={isCancelled:!1},t,F,B,H,Z=new Date("1970-01-01"),z=io.connect(Common.getBaseUrl(),{secure:!0}),Y={},aa;configs&&initConfigs(null);var S=new DataChannel(window.configs,window.constraints,z),x=new MediaChannel(window.configs,window.constraints,z);x.videoNode=A;x.myVideoNode=I;x.audioNode=D;S.onchannelopen=function(){console.log("channel onopen")};S.onchannelclose=function(a){console.log("channel onclose:"+a)};S.onchannelerror=function(a){console.error("channel error:"+
a)};x.onVideoStreamopen=function(a){$(".videos").show();$(".stopVideo").show();$(".stopVideo").i18n();$(".mediaControls").show();$(".callStatus").text("In Video Call");$(".callStatus").show();u.modal("show")};x.onVideoStreamclose=function(){$(".videoIcon").hide();$(".videos").hide();$(".stopVideo").hide();$(".mediaControls").hide();$(".callStatus").hide();u.modal("hide")};x.onAudioStreamopen=function(a){$(".audioIcon").show();$(".stopAudio").show();$(".mediaControls").show();$(".callStatus").text("In Audio Call");
$(".callStatus").show()};x.onAudioStreamclose=function(){$(".audioIcon").hide();$(".stopAudio").hide();$(".mediaControls").hide();$(".callStatus").hide()};$("#videoChannel").on("hidden.bs.modal",function(){x.inSession&&$(".videoIcon").show()});var Q=Common.getCookie("username"),w=Common.getCookie("roomname"),ba=null,da=Common.getCookie("authInfo");0<da.length&&(ba=JSON.parse(da));w&&""!==w&&e.val(w);0<Q.length&&0<w.length&&"undefined"!==Q&&ba?N(Q,w,ba):g.show();z.emit("get ip");z.on("return ip",function(a){var b=
a.split("."),d=(new Date).getTime()%60;if(!(4<b.length)){a="";for(var c=0;4>c;c++){var q=parseInt(b[c]).toString(16);a+=q}}B="Guest_"+a+d});$("#enterRoomGuest").click(function(a){t=null;Common.deleteCookie("username");Common.deleteCookie("authInfo");N(B,Common.cleanInput(e.val().trim()))});$("#enterRoomFacebook").click(function(a){FB.login(function(a){"connected"===a.status?FB.api("/me",function(b){console.log("Successful login for: "+b.name);t=b.name;var d=a.authResponse;d.type="facebook";N(Common.cleanInput(b.name),
Common.cleanInput(e.val().trim()),d)}):("not_authorized"===a.status&&bootbox.alert(m("Error")+":"+m("Failed to login")),H=t=null)})});$(".roomnameInput").keydown(function(a){13===a.which&&N(t||B,Common.cleanInput(e.val().trim()))});c.keydown(function(a){r.hide()});a.keydown(W);b.keydown(W);a.on("input",function(){1<a.val().length&&ca()});a.click(function(){a.focus()});b.click(function(){b.focus()});z.on("disconnect",function(){bootbox.confirm(m("You are disconnected. Do you want to re-login?"),function(a){a?
window.location.reload():(window.open("","_parent",""),window.close())})});z.on("logged out",function(a){bootbox.alert(m("You are logged out")+". "+m(a.msg),function(){Common.deleteCookie("username");Common.deleteCookie("roomname");Common.deleteCookie("authInfo");window.location.reload(!0)})});z.on("logged in",function(b){V=!0;g.fadeOut();k.show();a.focus();t=b.username;F=b.roomname;supportRTC()||n(m("[Please use Chrome 29+ or Firefox 38+ for video/audio chats and file transfer]"),{color:"orange"});
var c=m("Welcome ")+b.username+m(" to Room ")+'"'+b.roomname+'"';n(c);R(b);b.users.forEach(function(a,b,c){K(a,d)});t&&"undefined"!==t&&""!==t&&Common.setCookie("username",t,1);F&&""!==F&&Common.setCookie("roomname",F,7);H&&t&&Common.setCookie("authInfo",JSON.stringify(H),1)});z.on("new message",function(a){M(a)});z.on("new info",function(a){n(a.message)});z.on("new poke",function(a){a=a.username+m(" has poked you!");n(a);alert(a)});z.on("user joined",function(a){n(a.username+m(" has joined"));K(a.username,
d)});z.on("user left",function(a){n(a.username+m(" has left"));J(a);$('.users > li:contains("'+a.username+'")').remove()});z.on("typing",function(a){a.typing=!0;a.message=m("is typing");M(a)});z.on("stop typing",function(a){J(a)});z.on("login error",function(a){bootbox.alert(m("Error")+":"+m(a.msg));t=H=null;g.show()});$("ul.users").on("contextmenu",".username",L);$("ul.users").on("click",".username",L);$("ul.users").on("dragover",".username",P);$("ul.users").on("dragenter",".username",P);$("ul.users").on("drop",
".username",X);$("ul.messages").on("contextmenu",".username",L);$("ul.messages").on("click",".username",L);$("ul.messages").on("dragover",".username",P);$("ul.messages").on("drop",".username",X);$("#sendMsg").click(function(a){a=r.data("toUser");l.data("toUser",a);l.find(".modal-title").text("To "+a);l.modal("toggle")});$("#startVideo").click(function(a){supportRTC()?(a=r.data("toUser"),n(m("initiating video connection with ")+a),z.emit("start video request",{to:a})):(a.preventDefault(),a.stopPropagation())});
$("#startAudio").click(function(a){supportRTC()?(a=r.data("toUser"),n(m("initiating audio connection with ")+a),z.emit("start audio request",{to:a})):(a.preventDefault(),a.stopPropagation())});$("#sendFile").click(function(a){a.preventDefault();a.stopPropagation();supportRTC()&&$("#fileInput").trigger("click")});$("#fileInput").change(function(a){var b=r.data("toUser");Y[b]=a.target.files;n(m("initiating file transfer with ")+b);z.emit("start file request",{to:b})});$(window).scroll(function(){Common.isScrolledToTop()?
$(".scrollArrow.upArrow").css("opacity",.5):$(".scrollArrow.upArrow").css("opacity",1);Common.isScrolledToBottom()?$(".scrollArrow.downArrow").css("opacity",.5):$(".scrollArrow.downArrow").css("opacity",1)});$(".scrollArrow.upArrow").click(function(){$("body,html").animate({scrollTop:0},500)});$(".scrollArrow.downArrow").click(function(){$("body,html").animate({scrollTop:$(".messages")[0].scrollHeight},500)});z.on("start video response",function(a){if(a&&a.to){var b=a.to;a.permitted?(G(b,(t||B)+m("has initiated a video chat")),
x.startVideo(b,t||B)):n(m("failed to start video with ")+b+". "+a.message)}});z.on("start audio response",function(a){if(a&&a.to){var b=a.to;a.permitted?(G(b,(t||B)+m("has initiated an audio chat")),x.startAudio(b,t||B)):n(m("failed to start audio with ")+b+". "+a.message)}});z.on("start file response",function(a){if(a&&a.to){var b=a.to;if(a.permitted){var d=Y[a.to];delete Y[a.to];p(d,b)}else n(m("failed to start file transfer with ")+b+". "+a.message)}});$("#poke").click(function(a){a=r.data("toUser");
5E3<Date.now()-Z?(n(m("You poked ")+a),z.emit("new poke",{toUser:a}),Z=Date.now()):bootbox.alert(m("Sorry, you are poking too fast!"))});$("#sendPrivateMsgBtn").click(function(a){E(l.data("toUser"))});l.on("shown.bs.modal",function(){b.focus()});$("body").on("click",function(){r.hide()});$("body").mouseover(function(){q.isCancelled=!0;$(document).prop("title",T)});$(".navbarItem").click(function(a){$(".navbar-toggle").is(":visible")&&$(".navbar-collapse").collapse("hide")});$("#listroommates").click(function(a){U()});
$("#about").click(function(a){bootbox.dialog({message:m("About Content"),title:m("About TalkYet"),onEscape:function(){},show:!0,buttons:{success:{label:"OK",className:"btn-success",callback:function(){}}}})});$("#quit").click(function(a){bootbox.confirm(m("Are you sure to quit?"),function(a){!0===a&&(Common.deleteCookie("username"),Common.deleteCookie("roomname"),Common.deleteCookie("authInfo"),window.location.reload(!0))})});$(".stopVideo").click(function(a){if(a=x.getPeer())G(a,(t||B)+m("has stopped video chat")),
x.stopVideo(),$(".mute").attr("checked",!0)});$(".stopAudio").click(function(a){if(a=x.getPeer())G(a,(t||B)+m("has stopped audio chat")),x.stopAudio(),$(".mute").attr("checked",!0)});$(".mute").on("switchChange.bootstrapSwitch",function(a,b){$(".mute").attr("checked",b);var d=x.getPeer();d&&(b?G(d,(t||B)+m("has unmuted their mic")):G(d,(t||B)+m("has muted their mic")),x.muteMe(b))});$(".remoteVideo").dblclick(function(a){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||
document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():A.requestFullscreen?A.requestFullscreen():A.mozRequestFullScreen?A.mozRequestFullScreen():A.webkitRequestFullscreen&&A.webkitRequestFullscreen()})})});var Common=function(){var c="#B51000 #74460C #C68600 #DE7D00 #235800 #206200 #659049 #257462 #2F6DBC #2D1D88 #7500B2 #9400A2".split(" "),e=function(c,d){var a=c.match(d);return a&&2==a.length?a[1]:null};return{util:{},addElement:function(c,d,a,b){c=$(c);b||(b={});"undefined"===typeof b.fade&&(b.fade=!0);"undefined"===typeof b.prepend&&(b.prepend=!1);b.fade&&c.hide().fadeIn(250);b.prepend?d.prepend(c):d.append(c);!0===b.scrollToBottom&&a.scrollTop(d[0].scrollHeight)},getCurrentTime:function(){var c=
new Date;return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ")[c.getMonth()]+"/"+c.getDate()+" "+c.getHours()+":"+c.getMinutes()+":"+c.getSeconds()},replaceNewLines:function(c){return c.replace(/\n/ig,"<br>")},cleanInput:function(c){return c.replace(/(<([^>]+)>)/ig,"").replace(/^([\r\n]+)/ig,"")},getBaseUrl:function(){var c=window.location;return c.protocol+"//"+c.host+"/"},newMsgTitle:function(c,d){d&&!d.isCancelled&&(document.title=c)},logError:function(c){console.log("error:"+JSON.stringify(c))},logSuccess:function(c){console.log("success:"+
c)},setOneWay:function(c){c=c.split("\r\n");for(var d=0;d<c.length;d++)c[d]=c[d].replace(/^a=sendrecv/i,"a=sendonly");return c=c.join("\r\n")},setTwoWay:function(c){c=c.split("\r\n");for(var d=0;d<c.length;d++)c[d]=c[d].replace(/^a=recvonly/i,"a=sendrecv");return c=c.join("\r\n")},preferOpus:function(c){c=c.split("\r\n");for(var d=0;d<c.length;d++)if(-1!==c[d].search("m=audio")){var a=d;break}if("undefined"!==typeof a){for(d=0;d<c.length;d++)if(-1!==c[d].search("opus/48000")){var b=e(c[d],/:(\d+) opus\/48000/i);
if(b){for(var d=c,g=a,k=c[a].split(" "),r=[],l=0,u=0;u<k.length;u++)3===l&&(r[l++]=b),k[u]!==b&&(r[l++]=k[u]);b=r.join(" ");d[g]=b}break}d=c[a].split(" ");for(g=c.length-1;0<=g;g--)if(b=e(c[g],/a=rtpmap:(\d+) CN\/\d+/i))b=d.indexOf(b),-1!==b&&d.splice(b,1),c.splice(g,1);c[a]=d.join(" ")}return c=c.join("\r\n")},setSDPBandwidth:function(c,d){for(var a=c.split("\r\n"),b=0;b<a.length;b++)a[b]=a[b].replace(/^b=AS:(\d)+/i,"b=AS:"+d);return c=a.join("\r\n")},saveToDisk:function(c,d){var a=document.createElement("a");
a.href=c;a.target="_blank";a.download=d||c;var b=document.createEvent("Event");b.initEvent("click",!0,!0);a.dispatchEvent(b);(window.URL||window.webkitURL).revokeObjectURL(a.href)},appendBuffer:function(c,d){var a=new Uint8Array(c.byteLength+d.byteLength);a.set(new Uint8Array(c),0);a.set(new Uint8Array(d),c.byteLength);return a.buffer},getCookie:function(c){c+="=";for(var d=document.cookie.split(";"),a=0;a<d.length;a++){for(var b=d[a];" "==b.charAt(0);)b=b.substring(1);if(0==b.indexOf(c))return b.substring(c.length,
b.length)}return""},setCookie:function(c,d,a){var b=new Date;b.setTime(b.getTime()+864E5*a);a="expires="+b.toUTCString();document.cookie=c+"="+d+"; "+a},deleteCookie:function(c){document.cookie=c+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"},isGuest:function(c){return!!c&&0===c.indexOf("Guest_")},getUsernameColor:function(e){for(var d=7,a=0;a<e.length;a++)d=e.charCodeAt(a)+(d<<5)-d;e=Math.abs(d%c.length);return c[e]},isScrolledToTop:function(){return 0===$(window).scrollTop()},isScrolledToBottom:function(){return $(window).scrollTop()+
$(window).height()==$(document).height()}}}();window.configs={iceServers:[]};window.contraints={optional:[]};window.moz=!!navigator.mozGetUserMedia;window.IsDataChannelSupported=!(moz&&!navigator.mozGetUserMedia||!moz&&!navigator.webkitGetUserMedia);window.isMobileDevice=navigator.userAgent.match(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile/i);window.isChrome=!!navigator.webkitGetUserMedia;window.isFirefox=!!navigator.mozGetUserMedia;window.chromeVersion=isChrome?parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2]):0;
window.firefoxVersion=isFirefox?parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]):0;function supportRTC(){return isChrome?29<=chromeVersion:isFirefox?38<=firefoxVersion:!1}
function initConfigs(c){isFirefox&&configs.iceServers.push({url:"stun:stun.services.mozilla.com"});isChrome&&configs.iceServers.push({url:"stun:stun.l.google.com:19302"});isChrome&&28>chromeVersion&&(configs.iceServers.push({url:"turn:homeo@turn.bistri.com:80?transport=udp",credential:"homeo"}),configs.iceServers.push({url:"turn:homeo@turn.bistri.com:80?transport=tcp",credential:"homeo"}));isChrome&&28<=chromeVersion&&(configs.iceServers.push({url:"turn:turn.bistri.com:80?transport=udp",credential:"homeo",
username:"homeo"}),configs.iceServers.push({url:"turn:turn.bistri.com:80?transport=tcp",credential:"homeo",username:"homeo"}),configs.iceServers.push({url:"turn:turn.anyfirewall.com:443?transport=tcp",credential:"webrtc",username:"webrtc"}));moz||c||contraints.optional.push({RtpDataChannels:!0});navigator.onLine||(config.iceServers=[],console.warn("No internet connection detected. No STUN/TURN server is used to make sure local/host candidates are used for peers connection."))};var DataChannel=function(c,e,f){var d=1200*Math.floor(Math.min(1024E3,1E8,1E8)/1200);this.configs=c;this.contraints=e;this.signalingChannel=new SignalingChannel(f,"data",this);this.p2pOptions={audio:!1,video:!1,isCaller:!1};this.pc;this.inSession=!1;this.channel;this.chunks=[];this.blobs=[];this.onchannelopen;this.onchannelclose;this.onchannelerror;this.onchannelmessage=function(a){a=JSON.parse(a.data);var b=Common.util.convert.decode(a.message);this.chunks=this.chunks.concat(b);if(100<this.chunks.length||
a.last)this.blobs.push(new Blob(this.chunks,{type:"text/html"})),this.chunks=[],console.log("created blob");a.last&&(b=new Blob(this.blobs,{type:"text/html"}),console.log("final blob created"),Common.saveToDisk(URL.createObjectURL(b),a.filename),this.blobs=[],this.stopSession(!0))};this.numOfFunctionCalls=0;this.startTimes={};this.sliceId=0;this.blob;this.localDescCreated=function(a){a.sdp=Common.setSDPBandwidth(a.sdp,1048576);this.pc.setLocalDescription(a,function(){this.signalingChannel.send({type:"data",
sdp:this.pc.localDescription,to:this.p2pOptions.to,from:this.p2pOptions.from,audio:this.p2pOptions.audio,video:this.p2pOptions.video})}.bind(this),Common.logError)};this.setupDataChannelEvents=function(){this.channel.onopen=this.onchannelopen.bind(this);this.channel.onmessage=this.onchannelmessage.bind(this);this.channel.onclose=this.onchannelclose.bind(this);this.channel.onerror=this.onchannelerror.bind(this);this.channel.chunks=[];this.channel.blobs=[]};this.chunkAndTransfer=function(a,b,c,e,f){this.numOfFunctionCalls++;
var l={};l.filename=c.name;1200<b.length?l.message=b.slice(0,1200):(l.message=b,f&&(l.last=!0));this.sendData(JSON.stringify(l),function(){var u=b.slice(l.message.length);u.length?this.chunkAndTransfer(a,u,c,e,f):(this.sliceId++,(this.sliceId+1)*d<c.size?(this.blob=c.slice(this.sliceId*d,(this.sliceId+1)*d),a.readAsArrayBuffer(this.blob)):this.sliceId*d<c.size?(this.blob=c.slice(this.sliceId*d,c.size),a.readAsArrayBuffer(this.blob)):this.finishedLoadingFile(c,e))}.bind(this))};this.finishedLoadingFile=
function(a,b){var d=(new Date-this.startTimes[a.name])/1E3;b&&b(a.name,d);this.stopSession(!0)};this.sendFileInternal=function(a,b){this.startTimes[a.name]=new Date;var c=new FileReader,e=this.sliceId=0,f;c.onloadend=function(c){c&&(f=Common.util.convert.encode(c.target.result));c.target.readyState==FileReader.DONE?(e=0,this.chunkAndTransfer(c.target,f,a,b,this.blob.size<d)):10>e?(e++,setTimeout(this.chunkAndTransfer(c.target,f,a,b,this.blob.size<d).bind(this),100*e)):(alert("Failed to send file "+
a.name),e=0)}.bind(this);this.blob=a.slice(this.sliceId*d,(this.sliceId+1)*d);c.readAsArrayBuffer(this.blob)};this.stopSession=function(a){this.channel&&(a||this.channel.close());"closed"!==this.pc.signalingState&&(a||this.pc.close());this.inSession=!1;this.p2pOptions.isCaller=!1};this.start=function(){this.pc=new RTCPeerConnection(this.configs,this.contraints);this.pc.onicecandidate=function(a){a.candidate&&this.signalingChannel.send({type:"data",candidate:a.candidate,to:this.p2pOptions.to,from:this.p2pOptions.from})}.bind(this);
this.pc.onnegotiationneeded=function(){this.pc.createOffer(this.localDescCreated.bind(this),Common.logError)}.bind(this);this.pc.oniceconnectionstatechange=function(a){console.log("oniceconnectionstatechange: "+this.pc.iceConnectionState);"disconnected"===this.pc.iceConnectionState&&this.stopSession()}.bind(this);this.pc.onsignalingstatechange=function(a){console.log("onsignalingstatechange: "+this.pc.signalingState)}.bind(this);this.p2pOptions.isCaller?(this.channel=this.pc.createDataChannel("interdata",
{reliable:!1}),this.channel.target=this.p2pOptions.to,this.setupDataChannelEvents()):this.pc.ondatachannel=function(a){this.channel=a.channel;this.channel.target=this.p2pOptions.from;this.setupDataChannelEvents()}.bind(this)}};DataChannel.prototype.sendData=function(c,e){"open"==this.channel.readyState&&(this.channel.send(c),e(c))};
DataChannel.prototype.sendFile=function(c,e,f){this.inSession?f():(this.inSession=!0,"undefined"!=typeof this.channel&&this.channel.target!==this.p2pOptions.to?this.channel.target!==this.p2pOptions.from?(this.onchannelclose=function(d){console.log("channel onclose:"+d);this.onchannelopen=function(){console.log("channel onopen");this.sendFileInternal(c,e)}.bind(this);this.start();this.onchannelclose=function(a){console.log("channel onclose:"+a)};this.setupDataChannelEvents()}.bind(this),this.setupDataChannelEvents(),
this.stopSession(),this.p2pOptions.isCaller=!0):(this.stopSession(!0),this.p2pOptions.isCaller=!0,this.sendFileInternal(c,e)):this.channel?(this.p2pOptions.isCaller=!0,this.sendFileInternal(c,e)):(this.p2pOptions.isCaller=!0,this.onchannelopen=function(){console.log("channel onopen");this.sendFileInternal(c,e)}.bind(this),this.start()))};
DataChannel.prototype.onmessage=function(c){this.pc&&"closed"!==this.pc.iceConnectionState||this.inSession||(this.inSession=!0,this.p2pOptions.audio=c.audio,this.p2pOptions.video=c.video,this.p2pOptions.to=c.from,this.p2pOptions.from=c.to,this.start());c.sdp?this.pc.setRemoteDescription(new RTCSessionDescription(c.sdp),function(){"offer"==this.pc.remoteDescription.type&&this.pc.createAnswer(this.localDescCreated.bind(this),Common.logError)}.bind(this),Common.logError):c.candidate&&this.pc.addIceCandidate(new RTCIceCandidate(c.candidate),
Common.logSuccess,Common.logError)};DataChannel.prototype.getPeer=function(){return this.p2pOptions.to};!function(){function c(a,b){if(!b||"function"==typeof b)return a;for(var d in b)a[d]=b[d];return a}function e(a,b){for(var d in b)d in a?e(a[d],b[d]):a[d]=b[d];return a}function f(a,b,d){var c,e=0,f=a.length,h=void 0===f||"[object Array]"!==Object.prototype.toString.apply(a)||"function"==typeof a;if(d)if(h)for(c in a){if(!1===b.apply(a[c],d))break}else for(;f>e&&!1!==b.apply(a[e++],d););else if(h)for(c in a){if(!1===b.call(a[c],c,a[c]))break}else for(;f>e&&!1!==b.call(a[e],e,a[e++]););return a}function d(a){var b=
function(a){if(window.XMLHttpRequest)return a(null,new XMLHttpRequest);if(window.ActiveXObject)try{return a(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(b){return a(null,new ActiveXObject("Microsoft.XMLHTTP"))}return a(Error())},d=function(a){if("string"==typeof a)return a;var b=[],d;for(d in a)a.hasOwnProperty(d)&&b.push(encodeURIComponent(d)+"="+encodeURIComponent(a[d]));return b.join("&")},c=function(){for(var a=arguments[0],b=1;b<arguments.length;b++){var d=arguments[b],c;for(c in d)d.hasOwnProperty(c)&&
(a[c]=d[c])}return a},e=function(a,q,f,h){"function"==typeof f&&(h=f,f={});f.cache=f.cache||!1;f.data=f.data||{};f.headers=f.headers||{};f.jsonp=f.jsonp||!1;f.async=void 0===f.async?!0:f.async;var g,k=c({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},e.headers,f.headers);if(g="application/json"===k["content-type"]?JSON.stringify(f.data):d(f.data),"GET"===a){var l=[];if(g&&(l.push(g),g=null),f.cache||l.push("_="+(new Date).getTime()),f.jsonp&&(l.push("callback="+f.jsonp),
l.push("jsonp="+f.jsonp)),l=l.join("&"),1<l.length&&(q+=-1<q.indexOf("?")?"&"+l:"?"+l),f.jsonp){var l=document.getElementsByTagName("head")[0],m=document.createElement("script");return m.type="text/javascript",m.src=q,l.appendChild(m),void 0}}b(function(b,d){if(b)return h(b);d.open(a,q,f.async);for(var c in k)k.hasOwnProperty(c)&&d.setRequestHeader(c,k[c]);d.onreadystatechange=function(){if(4===d.readyState){var a=d.responseText||"";h&&h(d.status,{text:function(){return a},json:function(){try{return JSON.parse(a)}catch(b){return p.error("Can not parse JSON. URL: "+
q),{}}}})}};d.send(g)})};({authBasic:function(a,b){var d=e.headers,c;c=a+":"+b;c=c.replace(/\r\n/g,"\n");for(var q="",t=0;t<c.length;t++){var f=c.charCodeAt(t);128>f?q+=String.fromCharCode(f):127<f&&2048>f?(q+=String.fromCharCode(192|f>>6),q+=String.fromCharCode(128|63&f)):(q+=String.fromCharCode(224|f>>12),q+=String.fromCharCode(128|63&f>>6),q+=String.fromCharCode(128|63&f))}c=q;var B,F,h,g="",k=0;do B=c.charCodeAt(k++),q=c.charCodeAt(k++),t=c.charCodeAt(k++),f=B>>2,B=(3&B)<<4|q>>4,F=(15&q)<<2|t>>
6,h=63&t,isNaN(q)?F=h=64:isNaN(t)&&(h=64),g+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(B)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(F)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h);while(k<c.length);d.Authorization="Basic "+g},connect:function(a,b,d){return e("CONNECT",a,b,d)},del:function(a,b,d){return e("DELETE",a,b,d)},get:function(a,
b,d){return e("GET",a,b,d)},head:function(a,b,d){return e("HEAD",a,b,d)},headers:function(a){e.headers=a||{}},isAllowed:function(a,b,d){this.options(a,function(a,c){d(-1!==c.text().indexOf(b))})},options:function(a,b,d){return e("OPTIONS",a,b,d)},patch:function(a,b,d){return e("PATCH",a,b,d)},post:function(a,b,d){return e("POST",a,b,d)},put:function(a,b,d){return e("PUT",a,b,d)},trace:function(a,b,d){return e("TRACE",a,b,d)}})[a.type?a.type.toLowerCase():"get"](a.url,a,function(b,d){200===b||0===
b&&d.text()?a.success(d.json(),b,null):a.error(d.text(),b,null)})}function a(a,b){"function"==typeof a&&(b=a,a={});a=a||{};p.extend(h,a);delete h.fixLng;h.functions&&(delete h.functions,p.extend(p,a.functions));"string"==typeof h.ns&&(h.ns={namespaces:[h.ns],defaultNs:h.ns});"string"==typeof h.fallbackNS&&(h.fallbackNS=[h.fallbackNS]);"string"!=typeof h.fallbackLng&&"boolean"!=typeof h.fallbackLng||(h.fallbackLng=[h.fallbackLng]);h.interpolationPrefixEscaped=p.regexEscape(h.interpolationPrefix);h.interpolationSuffixEscaped=
p.regexEscape(h.interpolationSuffix);h.lng||(h.lng=p.detectLanguage());M=p.toLanguages(h.lng);E=M[0];p.log("currentLng set to: "+E);h.useCookie&&p.cookie.read(h.cookieName)!==E&&p.cookie.create(h.cookieName,E,h.cookieExpirationTime,h.cookieDomain);h.detectLngFromLocalStorage&&"undefined"!=typeof document&&window.localStorage&&p.localStorage.setItem("i18next_lng",E);var d=D;a.fixLng&&(d=function(a,b){return b=b||{},b.lng=b.lng||d.lng,D(a,b)},d.lng=E);C.setCurrentLng(E);n&&h.setJqueryExt&&r();var c;
if(n&&n.Deferred&&(c=n.Deferred()),!h.resStore){var e=p.toLanguages(h.lng);"string"==typeof h.preload&&(h.preload=[h.preload]);for(var f=0,g=h.preload.length;g>f;f++)for(var k=p.toLanguages(h.preload[f]),l=0,m=k.length;m>l;l++)0>e.indexOf(k[l])&&e.push(k[l]);return y.sync.load(e,h,function(a,q){v=q;U=!0;b&&b(d);c&&c.resolve(d)}),c?c.promise():void 0}return v=h.resStore,U=!0,b&&b(d),c&&c.resolve(d),c?c.promise():void 0}function b(a,b,d,c){"string"!=typeof b?(resource=b,b=h.ns.defaultNs):0>h.ns.namespaces.indexOf(b)&&
h.ns.namespaces.push(b);v[a]=v[a]||{};v[a][b]=v[a][b]||{};d=d.split(h.keyseparator);var e=0;for(a=v[a][b];d[e];)e==d.length-1?a[d[e]]=c:(null==a[d[e]]&&(a[d[e]]={}),a=a[d[e]]),e++}function g(a,b){var d={dynamicLoad:h.dynamicLoad,resGetPath:h.resGetPath,getAsync:h.getAsync,customLoad:h.customLoad,ns:{namespaces:a,defaultNs:""}},c=p.toLanguages(h.lng);"string"==typeof h.preload&&(h.preload=[h.preload]);for(var e=0,f=h.preload.length;f>e;e++)for(var g=p.toLanguages(h.preload[e]),k=0,l=g.length;l>k;k++)0>
c.indexOf(g[k])&&c.push(g[k]);for(var m=[],e=0,f=c.length;f>e;e++){g=!1;if(k=v[c[e]])for(var l=0,n=a.length;n>l;l++)k[a[l]]||(g=!0);else g=!0;g&&m.push(c[e])}m.length?y.sync._fetch(m,d,function(d,c){var e=a.length*m.length;p.each(a,function(a,d){0>h.ns.namespaces.indexOf(d)&&h.ns.namespaces.push(d);p.each(m,function(a,q){v[q]=v[q]||{};v[q][d]=c[q][d];e--;0===e&&b&&(h.useLocalStorage&&y.sync._storeLocal(v),b())})})}):b&&b()}function k(b,d,c){return"function"==typeof d?(c=d,d={}):d||(d={}),d.lng=b,
a(d,c)}function r(){function a(b,d,c){if(0!==d.length){var q="text";0===d.indexOf("[")&&(q=d.split("]"),d=q[1],q=q[0].substr(1,q[0].length-1));d.indexOf(";")===d.length-1&&(d=d.substr(0,d.length-2));if("html"===q)c=h.defaultValueFromContent?n.extend({defaultValue:b.html()},c):c,b.html(n.t(d,c));else if("text"===q)c=h.defaultValueFromContent?n.extend({defaultValue:b.text()},c):c,b.text(n.t(d,c));else if("prepend"===q)c=h.defaultValueFromContent?n.extend({defaultValue:b.html()},c):c,b.prepend(n.t(d,
c));else if("append"===q)c=h.defaultValueFromContent?n.extend({defaultValue:b.html()},c):c,b.append(n.t(d,c));else if(0===q.indexOf("data-")){var e=q.substr(5);c=h.defaultValueFromContent?n.extend({defaultValue:b.data(e)},c):c;d=n.t(d,c);b.data(e,d);b.attr(q,d)}else c=h.defaultValueFromContent?n.extend({defaultValue:b.attr(q)},c):c,b.attr(q,n.t(d,c))}}function b(d,c){var e=d.attr(h.selectorAttr);if(e||"undefined"==typeof e||!1===e||(e=d.text()||d.val()),e){var f=d,t=d.data("i18n-target");(t&&(f=d.find(t)||
d),c||!0!==h.useDataAttrOptions||(c=d.data("i18n-options")),c=c||{},0<=e.indexOf(";"))?(e=e.split(";"),n.each(e,function(b,d){""!==d&&a(f,d,c)})):a(f,e,c);!0===h.useDataAttrOptions&&d.data("i18n-options",c)}}n.t=n.t||D;n.fn.i18n=function(a){return this.each(function(){b(n(this),a);n(this).find("["+h.selectorAttr+"]").each(function(){b(n(this),a)})})}}function l(a,b,d,c){if(!a||(c=c||b,0>a.indexOf(c.interpolationPrefix||h.interpolationPrefix)))return a;var e=c.interpolationPrefix?p.regexEscape(c.interpolationPrefix):
h.interpolationPrefixEscaped,f=c.interpolationSuffix?p.regexEscape(c.interpolationSuffix):h.interpolationSuffixEscaped,g="HTML"+f;return p.each(b.replace&&"object"==typeof b.replace?b.replace:b,function(b,t){var k=d?d+h.keyseparator+b:b;"object"==typeof t&&null!==t?a=l(a,t,k,c):c.escapeInterpolation||h.escapeInterpolation?(a=a.replace(new RegExp([e,k,g].join(""),"g"),p.regexReplacementEscape(t)),a=a.replace(new RegExp([e,k,f].join(""),"g"),p.regexReplacementEscape(p.escape(t)))):a=a.replace(new RegExp([e,
k,f].join(""),"g"),p.regexReplacementEscape(t))}),a}function u(a,b){var d=p.extend({},b);for(delete d.postProcess;-1!=a.indexOf(h.reusePrefix)&&(K++,!(K>h.maxRecursion));){var c=a.lastIndexOf(h.reusePrefix),e=a.indexOf(h.reuseSuffix,c)+h.reuseSuffix.length,f=a.substring(c,e),g=f.replace(h.reusePrefix,"").replace(h.reuseSuffix,"");if(c>=e)return p.error("there is an missing closing in following translation value",a),"";if(-1!=g.indexOf(",")&&(c=g.indexOf(","),-1!=g.indexOf("{",c)&&-1!=g.indexOf("}",
c))){var e=g.indexOf("{",c),k=g.indexOf("}",e)+1;try{d=p.extend(d,JSON.parse(g.substring(e,k))),g=g.substring(0,c)}catch(l){}}g=N(g,d);a=a.replace(f,p.regexReplacementEscape(g))}return a}function A(a){return void 0!==a.count&&"string"!=typeof a.count}function I(a,b){b=b||{};var d=m(a,b),c=G(a,b);return void 0!==c||c===d}function D(a,b){return b=b||{},U?(K=0,N.apply(null,arguments)):(p.log("i18next not finished initialization. you might have called t function before loading resources finished."),b.defaultValue||
"")}function m(a,b){return void 0!==b.defaultValue?b.defaultValue:a}function R(){for(var a=[],b=1;b<arguments.length;b++)a.push(arguments[b]);return{postProcess:"sprintf",sprintf:a}}function N(a,b){if(b&&"object"!=typeof b?"sprintf"===h.shortcutFunction?b=R.apply(null,arguments):"defaultValue"===h.shortcutFunction&&(b={defaultValue:b}):b=b||{},"object"==typeof h.defaultVariables&&(b=p.extend({},h.defaultVariables,b)),void 0===a||null===a||""===a)return"";"string"==typeof a&&(a=[a]);var d=a[0];if(1<
a.length)for(var c=0;c<a.length&&(d=a[c],!I(d,b));c++);var e,c=m(d,b),f=G(d,b),g=b.lng?p.toLanguages(b.lng,b.fallbackLng):M,k=b.ns||h.ns.defaultNs;-1<d.indexOf(h.nsseparator)&&(e=d.split(h.nsseparator),k=e[0],d=e[1]);void 0===f&&h.sendMissing&&"function"==typeof h.missingKeyHandler&&(b.lng?h.missingKeyHandler(g[0],k,d,c,g):h.missingKeyHandler(h.lng,k,d,c,g));g=b.postProcess||h.postProcess;void 0!==f&&g&&O[g]&&(f=O[g](f,d,b));k=c;if(-1<c.indexOf(h.nsseparator)&&(e=c.split(h.nsseparator),k=e[1]),k===
d&&h.parseMissingKey&&(c=h.parseMissingKey(c)),void 0===f&&(c=l(c,b),c=u(c,b),g&&O[g]))e=m(d,b),f=O[g](e,d,b);return void 0!==f?f:c}function G(a,b){b=b||{};var d,c,e=m(a,b),f=M;if(!v||"cimode"===f[0].toLowerCase())return e;if(b.lngs&&(f=b.lngs),b.lng&&(f=p.toLanguages(b.lng,b.fallbackLng),!v[f[0]])){var g=h.getAsync;h.getAsync=!1;y.sync.load(f,h,function(a,b){p.extend(v,b);h.getAsync=g})}var k=b.ns||h.ns.defaultNs;-1<a.indexOf(h.nsseparator)&&(d=a.split(h.nsseparator),k=d[0],a=d[1]);if(b.context&&
("string"==typeof b.context||"number"==typeof b.context)&&(d=p.extend({},b),delete d.context,d.defaultValue=h.contextNotFound,c=D(k+h.nsseparator+a+"_"+b.context,d),c!=h.contextNotFound))return l(c,{context:b.context});if(A(b,f[0])){d=p.extend({lngs:[f[0]]},b);delete d.count;delete d.lng;d.defaultValue=h.pluralNotFound;var n;if(C.needsPlural(f[0],b.count)){n=k+h.nsseparator+a+h.pluralSuffix;var r=C.get(f[0],b.count);0<=r?n=n+"_"+r:1===r&&(n=k+h.nsseparator+a)}else n=k+h.nsseparator+a;if(c=D(n,d),
c!=h.pluralNotFound)return l(c,{count:b.count,interpolationPrefix:b.interpolationPrefix,interpolationSuffix:b.interpolationSuffix});if(!(1<f.length))return c;d=f.slice();if(d.shift(),b=p.extend(b,{lngs:d}),delete b.lng,c=D(k+h.nsseparator+a,b),c!=h.pluralNotFound)return c}if(void 0!==b.indefinite_article&&"string"!=typeof b.indefinite_article&&b.indefinite_article&&(d=p.extend({},b),delete d.indefinite_article,d.defaultValue=h.indefiniteNotFound,n=k+h.nsseparator+a+(b.count&&!A(b,f[0])||!b.count?
h.indefiniteSuffix:""),c=D(n,d),c!=h.indefiniteNotFound))return c;var x;c=a.split(h.keyseparator);d=0;for(n=f.length;n>d&&void 0===x;d++){for(var r=f[d],Q=0,w=v[r]&&v[r][k];c[Q];)w=w&&w[c[Q]],Q++;if(void 0!==w){x=Object.prototype.toString.apply(w);if("string"==typeof w)w=l(w,b),w=u(w,b);else if("[object Array]"!==x||h.returnObjectTrees||b.returnObjectTrees)if(null===w&&!0===h.fallbackOnNull)w=void 0;else{if(null!==w)if(h.returnObjectTrees||b.returnObjectTrees){if("[object Number]"!==x&&"[object Function]"!==
x&&"[object RegExp]"!==x){var E="[object Array]"===x?[]:{};p.each(w,function(d){E[d]=N(k+h.nsseparator+a+h.keyseparator+d,b)});w=E}}else h.objectTreeKeyHandler&&"function"==typeof h.objectTreeKeyHandler?w=h.objectTreeKeyHandler(a,w,r,k,b):(w="key '"+k+":"+a+" ("+r+")' returned an object instead of string.",p.log(w))}else w=w.join("\n"),w=l(w,b),w=u(w,b);"string"==typeof w&&""===w.trim()&&!0===h.fallbackOnEmpty&&(w=void 0);x=w}}if(void 0===x&&!b.isFallbackLookup&&(!0===h.fallbackToDefaultNS||h.fallbackNS&&
0<h.fallbackNS.length)){if(b.isFallbackLookup=!0,h.fallbackNS.length)for(f=0,c=h.fallbackNS.length;c>f;f++){if(x=G(h.fallbackNS[f]+h.nsseparator+a,b),x||""===x&&!1===h.fallbackOnEmpty)if(d=-1<x.indexOf(h.nsseparator)?x.split(h.nsseparator)[1]:x,n=-1<e.indexOf(h.nsseparator)?e.split(h.nsseparator)[1]:e,d!==n)break}else x=G(a,b);b.isFallbackLookup=!1}return x}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),d=b.length>>>0;if(0===d)return-1;
var c=0;if(0<arguments.length&&(c=Number(arguments[1]),c!=c?c=0:0!=c&&1/0!=c&&c!=-1/0&&(c=(0<c||-1)*Math.floor(Math.abs(c)))),c>=d)return-1;for(c=0<=c?c:Math.max(d-Math.abs(c),0);d>c;c++)if(c in b&&b[c]===a)return c;return-1});Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),d=b.length>>>0;if(0===d)return-1;var c=d;1<arguments.length&&(c=Number(arguments[1]),c!=c?c=0:0!=c&&c!=1/0&&c!=-(1/0)&&(c=(0<c||-1)*Math.floor(Math.abs(c))));
for(d=0<=c?Math.min(c,d-1):d-Math.abs(c);0<=d;d--)if(d in b&&b[d]===a)return d;return-1});"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var E,n=this.jQuery||this.Zepto,y={},v={},K=0,M=[],U=!1,J={};if("undefined"!=typeof module&&module.exports){if(!n)try{n=require("jquery")}catch(ca){}n&&(n.i18n=n.i18n||y);module.exports=y}else n&&(n.i18n=n.i18n||y),this.i18n=this.i18n||y;var J={load:function(a,b,d){b.useLocalStorage?J._loadLocal(a,
b,function(c,e){for(var f=[],g=0,h=a.length;h>g;g++)e[a[g]]||f.push(a[g]);0<f.length?J._fetch(f,b,function(a,b){p.extend(e,b);J._storeLocal(b);d(null,e)}):d(null,e)}):J._fetch(a,b,function(a,b){d(null,b)})},_loadLocal:function(a,b,d){var c={},e=(new Date).getTime();if(window.localStorage){var f=a.length;p.each(a,function(a,q){var g=window.localStorage.getItem("res_"+q);g&&(g=JSON.parse(g),g.i18nStamp&&g.i18nStamp+b.localStorageExpirationTime>e&&(c[q]=g));f--;0===f&&d(null,c)})}},_storeLocal:function(a){if(window.localStorage)for(var b in a)a[b].i18nStamp=
(new Date).getTime(),p.localStorage.setItem("res_"+b,JSON.stringify(a[b]))},_fetch:function(a,b,d){var c=b.ns,e={};if(b.dynamicLoad){var f=function(a,b){d(null,b)};if("function"==typeof b.customLoad)b.customLoad(a,c.namespaces,b,f);else{var g=l(b.resGetPath,{lng:a.join("+"),ns:c.namespaces.join("+")});p.ajax({url:g,success:function(a){p.log("loaded: "+g);d(null,a)},error:function(a,b,c){p.log("failed loading: "+g);d(null,void 0)},dataType:"json",async:b.getAsync})}}else{var h,k=c.namespaces.length*
a.length;p.each(c.namespaces,function(c,f){p.each(a,function(a,c){var q=function(a,b){a&&(h=h||[],h.push(a));e[c]=e[c]||{};e[c][f]=b;k--;0===k&&d(h,e)};"function"==typeof b.customLoad?b.customLoad(c,f,b,q):J._fetchOne(c,f,b,q)})})}},_fetchOne:function(a,b,d,c){var e=l(d.resGetPath,{lng:a,ns:b});p.ajax({url:e,success:function(a){p.log("loaded: "+e);c(null,a)},error:function(a,b,d){b&&200==b||a&&a.status&&200==a.status?p.error("There is a typo in: "+e):b&&404==b||a&&a.status&&404==a.status?p.log("Does not exist: "+
e):p.log((b?b:a&&a.status?a.status:null)+" when loading "+e);c(d,{})},dataType:"json",async:d.getAsync})},postMissing:function(a,b,d,c,e){var f={};f[d]=c;var g=[];if("fallback"===h.sendMissingTo&&!1!==h.fallbackLng[0])for(a=0;a<h.fallbackLng.length;a++)g.push({lng:h.fallbackLng[a],url:l(h.resPostPath,{lng:h.fallbackLng[a],ns:b})});else if("current"===h.sendMissingTo||"fallback"===h.sendMissingTo&&!1===h.fallbackLng[0])g.push({lng:a,url:l(h.resPostPath,{lng:a,ns:b})});else if("all"===h.sendMissingTo){a=
0;for(var k=e.length;k>a;a++)g.push({lng:e[a],url:l(h.resPostPath,{lng:e[a],ns:b})})}e=0;for(a=g.length;a>e;e++){var m=g[e];p.ajax({url:m.url,type:h.sendType,data:f,success:function(){p.log("posted missing key '"+d+"' to: "+m.url);for(var a=d.split("."),e=0,f=v[m.lng][b];a[e];)f=f[a[e]]=e===a.length-1?c:f[a[e]]||{},e++},error:function(){p.log("failed posting missing key '"+d+"' to: "+m.url)},dataType:"json",async:h.postAsync})}},reload:function(a){v={};k(E,a)}},h={lng:void 0,load:"all",preload:[],
lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:["dev"],fallbackNS:[],detectLngQS:"setLng",detectLngFromLocalStorage:!1,ns:"translation",fallbackOnNull:!0,fallbackOnEmpty:!1,fallbackToDefaultNS:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:void 0,useLocalStorage:!1,localStorageExpirationTime:6048E5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",
interpolationPrefix:"__",interpolationSuffix:"__",defaultVariables:!1,reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),escapeInterpolation:!1,indefiniteSuffix:"_indefinite",indefiniteNotFound:["indefinite_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:void 0,useCookie:!0,cookieName:"i18next",cookieDomain:void 0,
objectTreeKeyHandler:void 0,postProcess:void 0,parseMissingKey:void 0,missingKeyHandler:J.postMissing,shortcutFunction:"sprintf"},W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},P={create:function(a,b,d,c){if(d){var e=new Date;e.setTime(e.getTime()+6E4*d);d="; expires="+e.toGMTString()}else d="";document.cookie=a+"="+b+d+";"+(c?"domain="+c+";":"")+"path=/"},read:function(a){a+="=";for(var b=document.cookie.split(";"),d=0;d<b.length;d++){for(var c=b[d];" "==c.charAt(0);)c=
c.substring(1,c.length);if(0===c.indexOf(a))return c.substring(a.length,c.length)}return null},remove:function(a){this.create(a,"",-1)}},X={create:function(){},read:function(){return null},remove:function(){}},p={extend:n?n.extend:c,deepExtend:e,each:n?n.each:f,ajax:n?n.ajax:"undefined"!=typeof document?d:function(){},cookie:"undefined"!=typeof document?P:X,detectLanguage:function(){var a,b=h.lngWhitelist||[],d=[];if("undefined"!=typeof window&&!function(){for(var a=window.location.search.substring(1).split("&"),
b=0;b<a.length;b++){var c=a[b].indexOf("=");0<c&&a[b].substring(0,c)==h.detectLngQS&&d.push(a[b].substring(c+1))}}(),h.useCookie&&"undefined"!=typeof document){var c=p.cookie.read(h.cookieName);c&&d.push(c)}if(h.detectLngFromLocalStorage&&"undefined"!=typeof window&&window.localStorage&&d.push(window.localStorage.getItem("i18next_lng")),"undefined"!=typeof navigator){if(navigator.languages)for(c=0;c<navigator.languages.length;c++)d.push(navigator.languages[c]);navigator.userLanguage&&d.push(navigator.userLanguage);
navigator.language&&d.push(navigator.language)}return function(){for(var c=0;c<d.length;c++){var e=d[c];-1<e.indexOf("-")&&(e=e.split("-"),e=h.lowerCaseLng?e[0].toLowerCase()+"-"+e[1].toLowerCase():e[0].toLowerCase()+"-"+e[1].toUpperCase());if(0===b.length||-1<b.indexOf(e)){a=e;break}}}(),a||(a=h.fallbackLng[0]),a},escape:function(a){return"string"==typeof a?a.replace(/[&<>"'\/]/g,function(a){return W[a]}):a},log:function(a){h.debug&&"undefined"!=typeof console&&console.log(a)},error:function(a){"undefined"!=
typeof console&&console.error(a)},getCountyIndexOfLng:function(a){var b=0;return("nb-NO"===a||"nn-NO"===a||"nb-no"===a||"nn-no"===a)&&(b=1),b},toLanguages:function(a){function b(a){var d=a;"string"==typeof a&&-1<a.indexOf("-")?(a=a.split("-"),d=h.lowerCaseLng?a[0].toLowerCase()+"-"+a[1].toLowerCase():a[0].toLowerCase()+"-"+a[1].toUpperCase()):d=h.lowerCaseLng?a.toLowerCase():a;return d}var d=this.log,c=[],e=h.lngWhitelist||!1,f=function(a){!e||-1<e.indexOf(a)?c.push(a):d("rejecting non-whitelisted language: "+
a)};if("string"==typeof a&&-1<a.indexOf("-")){var g=a.split("-");"unspecific"!==h.load&&f(b(a));"current"!==h.load&&f(b(g[this.getCountyIndexOfLng(a)]))}else f(b(a));for(a=0;a<h.fallbackLng.length;a++)-1===c.indexOf(h.fallbackLng[a])&&h.fallbackLng[a]&&c.push(b(h.fallbackLng[a]));return c},regexEscape:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},regexReplacementEscape:function(a){return"string"==typeof a?a.replace(/\$/g,"$$$$"):a},localStorage:{setItem:function(a,b){if(window.localStorage)try{window.localStorage.setItem(a,
b)}catch(d){p.log('failed to set value for key "'+a+'" to localStorage.')}}}};p.applyReplacement=l;var L=[["ach","Acholi",[1,2],1],["af","Afrikaans",[1,2],2],["ak","Akan",[1,2],1],["am","Amharic",[1,2],1],["an","Aragonese",[1,2],2],["ar","Arabic",[0,1,2,3,11,100],5],["arn","Mapudungun",[1,2],1],["ast","Asturian",[1,2],2],["ay","Aymar\u00e1",[1],3],["az","Azerbaijani",[1,2],2],["be","Belarusian",[1,2,5],4],["bg","Bulgarian",[1,2],2],["bn","Bengali",[1,2],2],["bo","Tibetan",[1],3],["br","Breton",[1,
2],1],["bs","Bosnian",[1,2,5],4],["ca","Catalan",[1,2],2],["cgg","Chiga",[1],3],["cs","Czech",[1,2,5],6],["csb","Kashubian",[1,2,5],7],["cy","Welsh",[1,2,3,8],8],["da","Danish",[1,2],2],["de","German",[1,2],2],["dev","Development Fallback",[1,2],2],["dz","Dzongkha",[1],3],["el","Greek",[1,2],2],["en","English",[1,2],2],["eo","Esperanto",[1,2],2],["es","Spanish",[1,2],2],["es_ar","Argentinean Spanish",[1,2],2],["et","Estonian",[1,2],2],["eu","Basque",[1,2],2],["fa","Persian",[1],3],["fi","Finnish",
[1,2],2],["fil","Filipino",[1,2],1],["fo","Faroese",[1,2],2],["fr","French",[1,2],9],["fur","Friulian",[1,2],2],["fy","Frisian",[1,2],2],["ga","Irish",[1,2,3,7,11],10],["gd","Scottish Gaelic",[1,2,3,20],11],["gl","Galician",[1,2],2],["gu","Gujarati",[1,2],2],["gun","Gun",[1,2],1],["ha","Hausa",[1,2],2],["he","Hebrew",[1,2],2],["hi","Hindi",[1,2],2],["hr","Croatian",[1,2,5],4],["hu","Hungarian",[1,2],2],["hy","Armenian",[1,2],2],["ia","Interlingua",[1,2],2],["id","Indonesian",[1],3],["is","Icelandic",
[1,2],12],["it","Italian",[1,2],2],["ja","Japanese",[1],3],["jbo","Lojban",[1],3],["jv","Javanese",[0,1],13],["ka","Georgian",[1],3],["kk","Kazakh",[1],3],["km","Khmer",[1],3],["kn","Kannada",[1,2],2],["ko","Korean",[1],3],["ku","Kurdish",[1,2],2],["kw","Cornish",[1,2,3,4],14],["ky","Kyrgyz",[1],3],["lb","Letzeburgesch",[1,2],2],["ln","Lingala",[1,2],1],["lo","Lao",[1],3],["lt","Lithuanian",[1,2,10],15],["lv","Latvian",[1,2,0],16],["mai","Maithili",[1,2],2],["mfe","Mauritian Creole",[1,2],1],["mg",
"Malagasy",[1,2],1],["mi","Maori",[1,2],1],["mk","Macedonian",[1,2],17],["ml","Malayalam",[1,2],2],["mn","Mongolian",[1,2],2],["mnk","Mandinka",[0,1,2],18],["mr","Marathi",[1,2],2],["ms","Malay",[1],3],["mt","Maltese",[1,2,11,20],19],["nah","Nahuatl",[1,2],2],["nap","Neapolitan",[1,2],2],["nb","Norwegian Bokmal",[1,2],2],["ne","Nepali",[1,2],2],["nl","Dutch",[1,2],2],["nn","Norwegian Nynorsk",[1,2],2],["no","Norwegian",[1,2],2],["nso","Northern Sotho",[1,2],2],["oc","Occitan",[1,2],1],["or","Oriya",
[2,1],2],["pa","Punjabi",[1,2],2],["pap","Papiamento",[1,2],2],["pl","Polish",[1,2,5],7],["pms","Piemontese",[1,2],2],["ps","Pashto",[1,2],2],["pt","Portuguese",[1,2],2],["pt_br","Brazilian Portuguese",[1,2],2],["rm","Romansh",[1,2],2],["ro","Romanian",[1,2,20],20],["ru","Russian",[1,2,5],4],["sah","Yakut",[1],3],["sco","Scots",[1,2],2],["se","Northern Sami",[1,2],2],["si","Sinhala",[1,2],2],["sk","Slovak",[1,2,5],6],["sl","Slovenian",[5,1,2,3],21],["so","Somali",[1,2],2],["son","Songhay",[1,2],2],
["sq","Albanian",[1,2],2],["sr","Serbian",[1,2,5],4],["su","Sundanese",[1],3],["sv","Swedish",[1,2],2],["sw","Swahili",[1,2],2],["ta","Tamil",[1,2],2],["te","Telugu",[1,2],2],["tg","Tajik",[1,2],1],["th","Thai",[1],3],["ti","Tigrinya",[1,2],1],["tk","Turkmen",[1,2],2],["tr","Turkish",[1,2],1],["tt","Tatar",[1],3],["ug","Uyghur",[1],3],["uk","Ukrainian",[1,2,5],4],["ur","Urdu",[1,2],2],["uz","Uzbek",[1,2],1],["vi","Vietnamese",[1],3],["wa","Walloon",[1,2],1],["wo","Wolof",[1],3],["yo","Yoruba",[1,
2],2],["zh","Chinese",[1],3]],V={1:function(a){return Number(1<a)},2:function(a){return Number(1!=a)},3:function(){return 0},4:function(a){return Number(1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2)},5:function(a){return Number(0===a?0:1==a?1:2==a?2:3<=a%100&&10>=a%100?3:11<=a%100?4:5)},6:function(a){return Number(1==a?0:2<=a&&4>=a?1:2)},7:function(a){return Number(1==a?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2)},8:function(a){return Number(1==a?0:2==a?1:8!=a&&11!=a?2:3)},
9:function(a){return Number(2<=a)},10:function(a){return Number(1==a?0:2==a?1:7>a?2:11>a?3:4)},11:function(a){return Number(1==a||11==a?0:2==a||12==a?1:2<a&&20>a?2:3)},12:function(a){return Number(1!=a%10||11==a%100)},13:function(a){return Number(0!==a)},14:function(a){return Number(1==a?0:2==a?1:3==a?2:3)},15:function(a){return Number(1==a%10&&11!=a%100?0:2<=a%10&&(10>a%100||20<=a%100)?1:2)},16:function(a){return Number(1==a%10&&11!=a%100?0:0!==a?1:2)},17:function(a){return Number(1==a||1==a%10?
0:1)},18:function(a){return Number(1==a?1:2)},19:function(a){return Number(1==a?0:0===a||1<a%100&&11>a%100?1:10<a%100&&20>a%100?2:3)},20:function(a){return Number(1==a?0:0===a||0<a%100&&20>a%100?1:2)},21:function(a){return Number(1==a%100?1:2==a%100?2:3==a%100||4==a%100?3:0)}},C={rules:function(){var a,b={};for(a=L.length;a--;)b[L[a][0]]={name:L[a][1],numbers:L[a][2],plurals:V[L[a][3]]};return b}(),addRule:function(a,b){C.rules[a]=b},setCurrentLng:function(a){if(!C.currentRule||C.currentRule.lng!==
a){var b=a.split("-");C.currentRule={lng:a,rule:C.rules[b[0]]}}},needsPlural:function(a,b){var d,c=a.split("-");return d=C.currentRule&&C.currentRule.lng===a?C.currentRule.rule:C.rules[c[p.getCountyIndexOfLng(a)]],d&&1>=d.numbers.length?!1:1!==this.get(a,b)},get:function(a,b){var d;d=a.split("-")[p.getCountyIndexOfLng(a)];if(d=C.currentRule&&C.currentRule.lng===a?C.currentRule.rule:C.rules[d]){var c;c=d.noAbs?d.plurals(b):d.plurals(Math.abs(b));c=d.numbers[c];d=(2===d.numbers.length&&1===d.numbers[0]&&
(2===c?c=-1:1===c&&(c=1)),c)}else d=1===b?"1":"-1";return d}},O={},P=function(a,b){O[a]=b},T=function(){function a(b){return Object.prototype.toString.call(b).slice(8,-1).toLowerCase()}var b=function(){return b.cache.hasOwnProperty(arguments[0])||(b.cache[arguments[0]]=b.parse(arguments[0])),b.format.call(null,b.cache[arguments[0]],arguments)};return b.format=function(b,d){var c,e,f,g,h,k=1,l=b.length,m="",t=[];for(e=0;l>e;e++)if(m=a(b[e]),"string"===m)t.push(b[e]);else if("array"===m){if(g=b[e],
g[2])for(c=d[k],f=0;f<g[2].length;f++){if(!c.hasOwnProperty(g[2][f]))throw T('[sprintf] property "%s" does not exist',g[2][f]);c=c[g[2][f]]}else c=g[1]?d[g[1]]:d[k++];if(/[^s]/.test(g[8])&&"number"!=a(c))throw T("[sprintf] expecting number but found %s",a(c));switch(g[8]){case "b":c=c.toString(2);break;case "c":c=String.fromCharCode(c);break;case "d":c=parseInt(c,10);break;case "e":c=g[7]?c.toExponential(g[7]):c.toExponential();break;case "f":c=g[7]?parseFloat(c).toFixed(g[7]):parseFloat(c);break;
case "o":c=c.toString(8);break;case "s":c=(c=String(c))&&g[7]?c.substring(0,g[7]):c;break;case "u":c=Math.abs(c);break;case "x":c=c.toString(16);break;case "X":c=c.toString(16).toUpperCase()}c=/[def]/.test(g[8])&&g[3]&&0<=c?"+"+c:c;f=g[4]?"0"==g[4]?"0":g[4].charAt(1):" ";h=g[6]-String(c).length;if(g[6]){for(var n=[];0<h;n[--h]=f);f=n.join("")}else f="";t.push(g[5]?c+f:f+c)}return t.join("")},b.cache={},b.parse=function(a){for(var b=[],d=[],c=0;a;){if(null!==(b=/^[^\x25]+/.exec(a)))d.push(b[0]);else if(null!==
(b=/^\x25{2}/.exec(a)))d.push("%");else{if(null===(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a)))throw"[sprintf] huh?";if(b[2]){var c=c|1,e=[],f=b[2],g=[];if(null===(g=/^([a-z_][a-z_\d]*)/i.exec(f)))throw"[sprintf] huh?";for(e.push(g[1]);""!==(f=f.substring(g[0].length));){if(null===(g=/^\.([a-z_][a-z_\d]*)/i.exec(f))&&null===(g=/^\[(\d+)\]/.exec(f)))throw"[sprintf] huh?";e.push(g[1])}b[2]=e}else c|=2;if(3===c)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";
d.push(b)}a=a.substring(b[0].length)}return d},b}();P("sprintf",function(a,b,c){c.sprintf&&("[object Array]"===Object.prototype.toString.apply(c.sprintf)?(b=c.sprintf,a=(b.unshift(a),T.apply(null,b))):a="object"==typeof c.sprintf?T(a,c.sprintf):a);return a});y.init=a;y.setLng=k;y.preload=function(b,c){"string"==typeof b&&(b=[b]);for(var d=0,e=b.length;e>d;d++)0>h.preload.indexOf(b[d])&&h.preload.push(b[d]);return a(c)};y.addResourceBundle=function(a,b,c,d){"string"!=typeof b?(c=b,b=h.ns.defaultNs):
0>h.ns.namespaces.indexOf(b)&&h.ns.namespaces.push(b);v[a]=v[a]||{};v[a][b]=v[a][b]||{};d?p.deepExtend(v[a][b],c):p.extend(v[a][b],c)};y.hasResourceBundle=function(a,b){"string"!=typeof b&&(b=h.ns.defaultNs);v[a]=v[a]||{};var c=v[a][b]||{},d=!1,e;for(e in c)c.hasOwnProperty(e)&&(d=!0);return d};y.addResource=b;y.addResources=function(a,c,d){"string"!=typeof c?(resource=c,c=h.ns.defaultNs):0>h.ns.namespaces.indexOf(c)&&h.ns.namespaces.push(c);for(var e in d)"string"==typeof d[e]&&b(a,c,e,d[e])};y.removeResourceBundle=
function(a,b){"string"!=typeof b&&(b=h.ns.defaultNs);v[a]=v[a]||{};v[a][b]={}};y.loadNamespace=function(a,b){g([a],b)};y.loadNamespaces=g;y.setDefaultNamespace=function(a){h.ns.defaultNs=a};y.t=D;y.translate=D;y.exists=I;y.detectLanguage=p.detectLanguage;y.pluralExtensions=C;y.sync=J;y.functions=p;y.lng=function(){return E};y.addPostProcessor=P;y.options=h}();var MediaChannel=function(c,e,f){this.configs=c;this.contraints=e;this.signalingChannel=new SignalingChannel(f,"media",this);this.p2pOptions={audio:!1,video:!1,isCaller:!1};this.pc;this.inSession=!1;this.localStream;this.remoteStream;this.videoNode;this.myVideoNode;this.audioNode;this.inSession=!1;this.onVideoStreamopen;this.onVideoStreamclose;this.onAudioStreamopen;this.onAudioStreamclose;this.createSrc=window.URL?window.URL.createObjectURL:function(c){return c};this.localDescCreated=function(c){c.sdp=
Common.preferOpus(c.sdp);this.pc.setLocalDescription(c,function(){this.signalingChannel.send({type:"media",sdp:this.pc.localDescription,to:this.p2pOptions.to,from:this.p2pOptions.from,audio:this.p2pOptions.audio,video:this.p2pOptions.video})}.bind(this),Common.logError)};this.loadMediaError=function(c){Common.logError(c);if(this.p2pOptions.video)this.onVideoStreamclose();else if(p2pOptions.audio)this.onAudioStreamclose()};this.stopSession=function(c){this.localStream&&(this.localStream.stop(),this.localStream=
void 0);this.remoteStream&&(this.remoteStream.stop(),this.remoteStream=void 0);"closed"!==this.pc.signalingState&&(c||this.pc.close());this.inSession=!1;this.p2pOptions.isCaller=!1};this.start=function(){this.pc=new RTCPeerConnection(this.configs,this.contraints);this.pc.onicecandidate=function(c){c.candidate&&this.signalingChannel.send({type:"media",candidate:c.candidate,to:this.p2pOptions.to,from:this.p2pOptions.from})}.bind(this);this.pc.onnegotiationneeded=function(){this.pc.createOffer(this.localDescCreated.bind(this),
Common.logError)}.bind(this);this.pc.onaddstream=function(c){console.log("adding remote stream");this.p2pOptions.video?(this.onVideoStreamopen(c),this.videoNode.src=URL.createObjectURL(c.stream),this.videoNode.play(),this.remoteStream=c.stream):this.p2pOptions.audio&&(this.onAudioStreamopen(c),this.audioNode.src=URL.createObjectURL(c.stream),this.audioNode.play(),this.remoteStream=c.stream)}.bind(this);this.pc.oniceconnectionstatechange=function(c){console.log("oniceconnectionstatechange: "+this.pc.iceConnectionState);
if("disconnected"===this.pc.iceConnectionState)if(this.stopSession(),this.p2pOptions.video)this.onVideoStreamclose(c);else if(this.p2pOptions.audio)this.onAudioStreamclose(c)}.bind(this);this.pc.onsignalingstatechange=function(c){console.log("onsignalingstatechange: "+this.pc.signalingState)}.bind(this);this.p2pOptions.audio&&(this.p2pOptions.video?getUserMedia({audio:this.p2pOptions.audio,video:this.p2pOptions.video},function(c){this.inSession=!0;this.p2pOptions.video&&(this.myVideoNode.src=this.createSrc(c),
this.myVideoNode.volume=0,this.myVideoNode.play());this.localStream=c;this.pc.addStream(c);window.isFirefox&&setTimeout(function(){this.pc.createOffer(this.localDescCreated.bind(this),Common.logError)}.bind(this),2E3)}.bind(this),this.loadMediaError):getUserMedia({audio:this.p2pOptions.audio,video:this.p2pOptions.video},function(c){this.localStream=c;this.pc.addStream(c)}.bind(this),this.loadMediaError))}};
MediaChannel.prototype.startVideo=function(c,e){this.p2pOptions.audio=!0;this.p2pOptions.video=!0;this.p2pOptions.to=c;this.p2pOptions.from=e;this.p2pOptions.isCaller=!0;this.onVideoStreamopen();this.start()};MediaChannel.prototype.startAudio=function(c,e){this.p2pOptions.audio=!0;this.p2pOptions.video=!1;this.p2pOptions.to=c;this.p2pOptions.from=e;this.p2pOptions.isCaller=!0;this.onAudioStreamopen();this.start()};
MediaChannel.prototype.stopVideo=function(){this.localStream&&this.myVideoNode.pause();this.remoteStream&&this.videoNode.pause();this.stopSession();this.onVideoStreamclose()};MediaChannel.prototype.stopAudio=function(){this.audioNode.pause();this.stopSession();this.onAudioStreamclose()};MediaChannel.prototype.muteMe=function(c){this.localStream.getAudioTracks()[0].enabled=c};
MediaChannel.prototype.onmessage=function(c){this.pc&&"closed"!==this.pc.iceConnectionState||this.inSession||(this.inSession=!0,this.p2pOptions.audio=c.audio,this.p2pOptions.video=c.video,this.p2pOptions.to=c.from,this.p2pOptions.from=c.to,this.start());c.sdp?this.pc.setRemoteDescription(new RTCSessionDescription(c.sdp),function(){"offer"==this.pc.remoteDescription.type&&this.pc.createAnswer(this.localDescCreated.bind(this),Common.logError)}.bind(this),Common.logError):c.candidate&&this.pc.addIceCandidate(new RTCIceCandidate(c.candidate),
Common.logSuccess,Common.logError)};MediaChannel.prototype.getPeer=function(){return this.p2pOptions.to};function SignalingChannel(c,e,f){this.socket=c;this.socket.on("receive signal "+e||"general",f.onmessage.bind(f))}SignalingChannel.prototype.send=function(c){this.socket.emit("send signal",c)};Common=Common||{};
Common.util=function(){return{convert:{decode:function(c){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/=".indexOf(c.charAt(c.length-1)),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/=".indexOf(c.charAt(c.length-2)),d=c.length/4*3;64==e&&d--;64==f&&d--;for(var a,b,g,k=0,r=0,l=new Uint8Array(d),k=0;k<d;k+=3)a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/=".indexOf(c.charAt(r++)),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/=".indexOf(c.charAt(r++)),e=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/=".indexOf(c.charAt(r++)),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/=".indexOf(c.charAt(r++)),a=a<<2|b>>4,b=(b&15)<<4|e>>2,g=(e&3)<<6|f,l[k]=a,64!=e&&(l[k+1]=b),64!=f&&(l[k+2]=g);return l},encode:function(c){var e="";c=new Uint8Array(c);for(var f=c.byteLength,d=f%3,f=f-d,a,b,g,k,r=0;r<f;r+=3)k=c[r]<<16|c[r+1]<<8|c[r+2],a=(k&16515072)>>18,b=(k&258048)>>12,g=(k&4032)>>6,k&=63,e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/="[a]+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/="[b]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/="[g]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/="[k];1==d?(k=c[f],e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/="[(k&252)>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/="[(k&3)<<4]+"=="):2==d&&(k=c[f]<<8|c[f+1],e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/="[(k&64512)>>10]+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/="[(k&1008)>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/="[(k&15)<<2]+"=");return e}}}}();